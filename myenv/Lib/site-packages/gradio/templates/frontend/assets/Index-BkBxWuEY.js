import{e as qt,p as Ct,q as Tt,k as Dt,g as St,h as Mt,M as Et,V as Ht,r as Bt,c as Ft}from"./FullscreenButton-D7OpqaEU.js";import{U as At}from"./ModifyUpload-DeA0LoIt.js";import{I as Pt}from"./Image-0bVIZe-w.js";import"./ImagePreview-AieVzSem.js";import{I as Ut}from"./InteractiveAudio-D_8VTM59.js";import{S as jt}from"./StreamingBar-Bc_J-1Oe.js";import{default as Vl}from"./Example-BBjx1b42.js";import"./MarkdownCode-DhbjNcA6.js";import"./index-BvFm9VBJ.js";import"./svelte/svelte.js";import"./prism-python-Dt5iPx6n.js";import"./init-BXnIR-ED.js";import"./AudioPlayer-BYiM-y_F.js";import"./hls-C7-VjdhD.js";import"./Video-NpeJCQXG.js";const{tick:It}=window.__gradio__svelte__internal;async function Re(t,e,l){if(await It(),e===l)return;const i=window.getComputedStyle(t),o=parseFloat(i.paddingTop),n=parseFloat(i.paddingBottom),d=parseFloat(i.lineHeight);let f=l===void 0?!1:o+n+d*l,a=o+n+e*d;t.style.height="1px";let m;f&&t.scrollHeight>f?m=f:t.scrollHeight<a?m=a:m=t.scrollHeight,t.style.height=`${m}px`}function Lt(t,e){if(e.lines===e.max_lines)return;t.style.overflowY="scroll";function l(i){Re(i.target,e.lines,e.max_lines)}if(t.addEventListener("input",l),!!e.text.trim())return Re(t,e.lines,e.max_lines),{destroy:()=>t.removeEventListener("input",l)}}const{SvelteComponent:Rt,action_destroyer:Vt,add_flush_callback:Xe,append:G,attr:w,bind:Je,binding_callbacks:de,bubble:ke,check_outros:le,create_component:X,destroy_component:J,destroy_each:Wt,detach:O,element:N,ensure_array_like:Oe,flush:M,group_outros:ie,init:Kt,insert:Q,is_function:Ce,listen:V,mount_component:Z,noop:ae,prevent_default:Yt,run_all:Gt,safe_not_equal:Nt,set_data:Ve,set_input_value:Qe,set_style:Ze,space:te,text:We,toggle_class:x,transition_in:k,transition_out:q}=window.__gradio__svelte__internal,{onMount:Xt,beforeUpdate:Jt,afterUpdate:Ot,createEventDispatcher:Qt,tick:ye}=window.__gradio__svelte__internal;function xe(t,e,l){const i=t.slice();return i[73]=e[l],i[75]=l,i}function Zt(t){let e;return{c(){e=We(t[7])},m(l,i){Q(l,e,i)},p(l,i){i[0]&128&&Ve(e,l[7])},d(l){l&&O(e)}}}function $e(t){let e,l,i,o=Oe(t[0].files),n=[];for(let a=0;a<o.length;a+=1)n[a]=et(xe(t,o,a));const d=a=>q(n[a],1,1,()=>{n[a]=null});let f=t[25]&&tt();return{c(){e=N("div");for(let a=0;a<n.length;a+=1)n[a].c();l=te(),f&&f.c(),w(e,"class","thumbnails scroll-hide svelte-5gfv2q"),w(e,"aria-label","Uploaded files"),w(e,"data-testid","container_el"),Ze(e,"display",t[0].files.length>0||t[25]?"flex":"none")},m(a,m){Q(a,e,m);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);G(e,l),f&&f.m(e,null),i=!0},p(a,m){if(m[0]&65|m[1]&16){o=Oe(a[0].files);let c;for(c=0;c<o.length;c+=1){const z=xe(a,o,c);n[c]?(n[c].p(z,m),k(n[c],1)):(n[c]=et(z),n[c].c(),k(n[c],1),n[c].m(e,l))}for(ie(),c=o.length;c<n.length;c+=1)d(c);le()}a[25]?f||(f=tt(),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!i||m[0]&33554433)&&Ze(e,"display",a[0].files.length>0||a[25]?"flex":"none")},i(a){if(!i){for(let m=0;m<o.length;m+=1)k(n[m]);i=!0}},o(a){n=n.filter(Boolean);for(let m=0;m<n.length;m+=1)q(n[m]);i=!1},d(a){a&&O(e),Wt(n,a),f&&f.d()}}}function yt(t){let e,l;return e=new Bt({}),{c(){X(e.$$.fragment)},m(i,o){Z(e,i,o),l=!0},p:ae,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){q(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function xt(t){let e,l;return e=new Ht({}),{c(){X(e.$$.fragment)},m(i,o){Z(e,i,o),l=!0},p:ae,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){q(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function $t(t){let e,l;return e=new Et({}),{c(){X(e.$$.fragment)},m(i,o){Z(e,i,o),l=!0},p:ae,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){q(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function el(t){let e,l;return e=new Pt({props:{src:t[73].url,title:null,alt:"",loading:"lazy",class:"thumbnail-image"}}),{c(){X(e.$$.fragment)},m(i,o){Z(e,i,o),l=!0},p(i,o){const n={};o[0]&1&&(n.src=i[73].url),e.$set(n)},i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){q(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function et(t){let e,l,i,o,n,d,f,a,m,c,z,g,v;o=new Dt({});function u(...C){return t[53](t[75],...C)}const h=[el,$t,xt,yt],p=[];function Y(C,U){return U[0]&1&&(d=null),U[0]&1&&(f=null),U[0]&1&&(a=null),d==null&&(d=!!(C[73].mime_type&&C[73].mime_type.includes("image"))),d?0:(f==null&&(f=!!(C[73].mime_type&&C[73].mime_type.includes("audio"))),f?1:(a==null&&(a=!!(C[73].mime_type&&C[73].mime_type.includes("video"))),a?2:3))}return m=Y(t,[-1,-1,-1]),c=p[m]=h[m](t),{c(){e=N("span"),l=N("button"),i=N("button"),X(o.$$.fragment),n=te(),c.c(),w(i,"class","delete-button svelte-5gfv2q"),x(i,"disabled",t[6]),w(l,"class","thumbnail-item thumbnail-small svelte-5gfv2q"),w(e,"role","listitem"),w(e,"aria-label","File thumbnail")},m(C,U){Q(C,e,U),G(e,l),G(l,i),Z(o,i,null),G(l,n),p[m].m(l,null),z=!0,g||(v=V(i,"click",u),g=!0)},p(C,U){t=C,(!z||U[0]&64)&&x(i,"disabled",t[6]);let L=m;m=Y(t,U),m===L?p[m].p(t,U):(ie(),q(p[L],1,1,()=>{p[L]=null}),le(),c=p[m],c?c.p(t,U):(c=p[m]=h[m](t),c.c()),k(c,1),c.m(l,null))},i(C){z||(k(o.$$.fragment,C),k(c),z=!0)},o(C){q(o.$$.fragment,C),q(c),z=!1},d(C){C&&O(e),J(o),p[m].d(),g=!1,v()}}}function tt(t){let e;return{c(){e=N("div"),w(e,"class","loader svelte-5gfv2q"),w(e,"role","status"),w(e,"aria-label","Uploading")},m(l,i){Q(l,e,i)},d(l){l&&O(e)}}}function lt(t){let e,l;return e=new Ut({props:{sources:["microphone"],class_name:"compact-audio",recording:ut,waveform_settings:t[20],waveform_options:t[21],i18n:t[4],active_source:t[2],upload:t[17],stream_handler:t[18],stream_every:1,editable:!0,label:t[7],root:t[15],loop:!1,show_label:!1,show_download_button:!1,dragging:!1}}),e.$on("change",t[54]),e.$on("clear",t[55]),e.$on("start_recording",t[56]),e.$on("pause_recording",t[57]),e.$on("stop_recording",t[58]),{c(){X(e.$$.fragment)},m(i,o){Z(e,i,o),l=!0},p(i,o){const n={};o[0]&1048576&&(n.waveform_settings=i[20]),o[0]&2097152&&(n.waveform_options=i[21]),o[0]&16&&(n.i18n=i[4]),o[0]&4&&(n.active_source=i[2]),o[0]&131072&&(n.upload=i[17]),o[0]&262144&&(n.stream_handler=i[18]),o[0]&128&&(n.label=i[7]),o[0]&32768&&(n.root=i[15]),e.$set(n)},i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){q(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function it(t){let e,l,i,o,n,d,f,a,m;function c(v){t[60](v)}function z(v){t[61](v)}let g={file_count:t[19],filetype:t[28],root:t[15],max_file_size:t[16],show_progress:!1,disable_click:!0,hidden:!0,upload:t[17],stream_handler:t[18]};return t[1]!==void 0&&(g.dragging=t[1]),t[25]!==void 0&&(g.uploading=t[25]),e=new At({props:g}),t[59](e),de.push(()=>Je(e,"dragging",c)),de.push(()=>Je(e,"uploading",z)),e.$on("load",t[34]),e.$on("error",t[62]),d=new Ct({}),{c(){X(e.$$.fragment),o=te(),n=N("button"),X(d.$$.fragment),w(n,"data-testid","upload-button"),w(n,"class","upload-button svelte-5gfv2q"),n.disabled=t[6]},m(v,u){Z(e,v,u),Q(v,o,u),Q(v,n,u),Z(d,n,null),f=!0,a||(m=V(n,"click",function(){Ce(t[6]?void 0:t[36])&&(t[6]?void 0:t[36]).apply(this,arguments)}),a=!0)},p(v,u){t=v;const h={};u[0]&524288&&(h.file_count=t[19]),u[0]&268435456&&(h.filetype=t[28]),u[0]&32768&&(h.root=t[15]),u[0]&65536&&(h.max_file_size=t[16]),u[0]&131072&&(h.upload=t[17]),u[0]&262144&&(h.stream_handler=t[18]),!l&&u[0]&2&&(l=!0,h.dragging=t[1],Xe(()=>l=!1)),!i&&u[0]&33554432&&(i=!0,h.uploading=t[25],Xe(()=>i=!1)),e.$set(h),(!f||u[0]&64)&&(n.disabled=t[6])},i(v){f||(k(e.$$.fragment,v),k(d.$$.fragment,v),f=!0)},o(v){q(e.$$.fragment,v),q(d.$$.fragment,v),f=!1},d(v){v&&(O(o),O(n)),t[59](null),J(e,v),J(d),a=!1,m()}}}function nt(t){let e,l,i,o,n;return l=new Tt({}),{c(){e=N("button"),X(l.$$.fragment),w(e,"data-testid","microphone-button"),w(e,"class","microphone-button svelte-5gfv2q"),e.disabled=t[6],x(e,"recording",ut)},m(d,f){Q(d,e,f),Z(l,e,null),i=!0,o||(n=V(e,"click",function(){Ce(t[6]?void 0:t[63])&&(t[6]?void 0:t[63]).apply(this,arguments)}),o=!0)},p(d,f){t=d,(!i||f[0]&64)&&(e.disabled=t[6])},i(d){i||(k(l.$$.fragment,d),i=!0)},o(d){q(l.$$.fragment,d),i=!1},d(d){d&&O(e),J(l),o=!1,n()}}}function st(t){let e,l,i,o,n,d;const f=[ll,tl],a=[];function m(c,z){return c[11]===!0?0:1}return l=m(t),i=a[l]=f[l](t),{c(){e=N("button"),i.c(),w(e,"class","submit-button svelte-5gfv2q"),e.disabled=t[6],x(e,"padded-button",t[11]!==!0)},m(c,z){Q(c,e,z),a[l].m(e,null),o=!0,n||(d=V(e,"click",function(){Ce(t[6]?void 0:t[38])&&(t[6]?void 0:t[38]).apply(this,arguments)}),n=!0)},p(c,z){t=c;let g=l;l=m(t),l===g?a[l].p(t,z):(ie(),q(a[g],1,1,()=>{a[g]=null}),le(),i=a[l],i?i.p(t,z):(i=a[l]=f[l](t),i.c()),k(i,1),i.m(e,null)),(!o||z[0]&64)&&(e.disabled=t[6]),(!o||z[0]&2048)&&x(e,"padded-button",t[11]!==!0)},i(c){o||(k(i),o=!0)},o(c){q(i),o=!1},d(c){c&&O(e),a[l].d(),n=!1,d()}}}function tl(t){let e;return{c(){e=We(t[11])},m(l,i){Q(l,e,i)},p(l,i){i[0]&2048&&Ve(e,l[11])},i:ae,o:ae,d(l){l&&O(e)}}}function ll(t){let e,l;return e=new St({}),{c(){X(e.$$.fragment)},m(i,o){Z(e,i,o),l=!0},p:ae,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){q(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function ot(t){let e,l,i,o,n,d;const f=[nl,il],a=[];function m(c,z){return c[12]===!0?0:1}return l=m(t),i=a[l]=f[l](t),{c(){e=N("button"),i.c(),w(e,"class","stop-button svelte-5gfv2q"),x(e,"padded-button",t[12]!==!0)},m(c,z){Q(c,e,z),a[l].m(e,null),o=!0,n||(d=V(e,"click",t[37]),n=!0)},p(c,z){let g=l;l=m(c),l===g?a[l].p(c,z):(ie(),q(a[g],1,1,()=>{a[g]=null}),le(),i=a[l],i?i.p(c,z):(i=a[l]=f[l](c),i.c()),k(i,1),i.m(e,null)),(!o||z[0]&4096)&&x(e,"padded-button",c[12]!==!0)},i(c){o||(k(i),o=!0)},o(c){q(i),o=!1},d(c){c&&O(e),a[l].d(),n=!1,d()}}}function il(t){let e;return{c(){e=We(t[12])},m(l,i){Q(l,e,i)},p(l,i){i[0]&4096&&Ve(e,l[12])},i:ae,o:ae,d(l){l&&O(e)}}}function nl(t){let e,l;return e=new Mt({props:{fill:"none",stroke_width:2.5}}),{c(){X(e.$$.fragment)},m(i,o){Z(e,i,o),l=!0},p:ae,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){q(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function sl(t){let e,l,i,o,n=t[29]&&t[29].includes("microphone")&&t[2]==="microphone",d,f,a=t[29]&&t[29].includes("upload")&&!(t[19]==="single"&&t[0].files.length>0),m,c=t[29]&&t[29].includes("microphone"),z,g,v,u,h,p,Y,C,U,L,y,W,ue,ne,F,se,oe;l=new qt({props:{show_label:t[9],info:t[8],rtl:t[13],$$slots:{default:[Zt]},$$scope:{ctx:t}}});let A=(t[0].files.length>0||t[25])&&$e(t),P=n&&lt(t),H=a&&it(t),D=c&&nt(t),S=t[11]&&st(t),T=t[12]&&ot(t);return{c(){e=N("div"),X(l.$$.fragment),i=te(),A&&A.c(),o=te(),P&&P.c(),d=te(),f=N("div"),H&&H.c(),m=te(),D&&D.c(),z=te(),g=N("textarea"),ue=te(),S&&S.c(),ne=te(),T&&T.c(),w(g,"data-testid","textbox"),w(g,"class","scroll-hide svelte-5gfv2q"),w(g,"dir",v=t[13]?"rtl":"ltr"),w(g,"placeholder",t[5]),w(g,"rows",t[3]),g.disabled=t[6],w(g,"style",u=t[14]?"text-align: "+t[14]:""),w(g,"autocapitalize",h=t[22]?.autocapitalize),w(g,"autocorrect",p=t[22]?.autocorrect),w(g,"spellcheck",Y=t[22]?.spellcheck),w(g,"autocomplete",C=t[22]?.autocomplete),w(g,"tabindex",U=t[22]?.tabindex),w(g,"enterkeyhint",L=t[22]?.enterkeyhint),w(g,"lang",y=t[22]?.lang),x(g,"no-label",!t[9]),w(f,"class","input-container svelte-5gfv2q"),w(e,"class","full-container svelte-5gfv2q"),w(e,"role","group"),w(e,"aria-label","Multimedia input field"),x(e,"dragging",t[1])},m(_,b){Q(_,e,b),Z(l,e,null),G(e,i),A&&A.m(e,null),G(e,o),P&&P.m(e,null),G(e,d),G(e,f),H&&H.m(f,null),G(f,m),D&&D.m(f,null),G(f,z),G(f,g),Qe(g,t[0].text),t[65](g),G(f,ue),S&&S.m(f,null),G(f,ne),T&&T.m(f,null),t[66](e),F=!0,se||(oe=[Vt(W=Lt.call(null,g,{text:t[0].text,lines:t[3],max_lines:t[10]})),V(g,"input",t[64]),V(g,"keypress",t[32]),V(g,"blur",t[51]),V(g,"select",t[31]),V(g,"focus",t[52]),V(g,"scroll",t[33]),V(g,"paste",t[39]),V(e,"dragenter",t[40]),V(e,"dragleave",t[41]),V(e,"dragover",Yt(t[50])),V(e,"drop",t[42])],se=!0)},p(_,b){const j={};b[0]&512&&(j.show_label=_[9]),b[0]&256&&(j.info=_[8]),b[0]&8192&&(j.rtl=_[13]),b[0]&128|b[2]&16384&&(j.$$scope={dirty:b,ctx:_}),l.$set(j),_[0].files.length>0||_[25]?A?(A.p(_,b),b[0]&33554433&&k(A,1)):(A=$e(_),A.c(),k(A,1),A.m(e,o)):A&&(ie(),q(A,1,1,()=>{A=null}),le()),b[0]&536870916&&(n=_[29]&&_[29].includes("microphone")&&_[2]==="microphone"),n?P?(P.p(_,b),b[0]&536870916&&k(P,1)):(P=lt(_),P.c(),k(P,1),P.m(e,d)):P&&(ie(),q(P,1,1,()=>{P=null}),le()),b[0]&537395201&&(a=_[29]&&_[29].includes("upload")&&!(_[19]==="single"&&_[0].files.length>0)),a?H?(H.p(_,b),b[0]&537395201&&k(H,1)):(H=it(_),H.c(),k(H,1),H.m(f,m)):H&&(ie(),q(H,1,1,()=>{H=null}),le()),b[0]&536870912&&(c=_[29]&&_[29].includes("microphone")),c?D?(D.p(_,b),b[0]&536870912&&k(D,1)):(D=nt(_),D.c(),k(D,1),D.m(f,z)):D&&(ie(),q(D,1,1,()=>{D=null}),le()),(!F||b[0]&8192&&v!==(v=_[13]?"rtl":"ltr"))&&w(g,"dir",v),(!F||b[0]&32)&&w(g,"placeholder",_[5]),(!F||b[0]&8)&&w(g,"rows",_[3]),(!F||b[0]&64)&&(g.disabled=_[6]),(!F||b[0]&16384&&u!==(u=_[14]?"text-align: "+_[14]:""))&&w(g,"style",u),(!F||b[0]&4194304&&h!==(h=_[22]?.autocapitalize))&&w(g,"autocapitalize",h),(!F||b[0]&4194304&&p!==(p=_[22]?.autocorrect))&&w(g,"autocorrect",p),(!F||b[0]&4194304&&Y!==(Y=_[22]?.spellcheck))&&w(g,"spellcheck",Y),(!F||b[0]&4194304&&C!==(C=_[22]?.autocomplete))&&w(g,"autocomplete",C),(!F||b[0]&4194304&&U!==(U=_[22]?.tabindex))&&w(g,"tabindex",U),(!F||b[0]&4194304&&L!==(L=_[22]?.enterkeyhint))&&w(g,"enterkeyhint",L),(!F||b[0]&4194304&&y!==(y=_[22]?.lang))&&w(g,"lang",y),W&&Ce(W.update)&&b[0]&1033&&W.update.call(null,{text:_[0].text,lines:_[3],max_lines:_[10]}),b[0]&1&&Qe(g,_[0].text),(!F||b[0]&512)&&x(g,"no-label",!_[9]),_[11]?S?(S.p(_,b),b[0]&2048&&k(S,1)):(S=st(_),S.c(),k(S,1),S.m(f,ne)):S&&(ie(),q(S,1,1,()=>{S=null}),le()),_[12]?T?(T.p(_,b),b[0]&4096&&k(T,1)):(T=ot(_),T.c(),k(T,1),T.m(f,null)):T&&(ie(),q(T,1,1,()=>{T=null}),le()),(!F||b[0]&2)&&x(e,"dragging",_[1])},i(_){F||(k(l.$$.fragment,_),k(A),k(P),k(H),k(D),k(S),k(T),F=!0)},o(_){q(l.$$.fragment,_),q(A),q(P),q(H),q(D),q(S),q(T),F=!1},d(_){_&&O(e),J(l),A&&A.d(),P&&P.d(),H&&H.d(),D&&D.d(),t[65](null),S&&S.d(),T&&T.d(),t[66](null),se=!1,Gt(oe)}}}let ut=!1;function ol(t,e,l){let i,o,{value:n={text:"",files:[]}}=e,{value_is_output:d=!1}=e,{lines:f=1}=e,{i18n:a}=e,{placeholder:m="Type here..."}=e,{disabled:c=!1}=e,{label:z}=e,{info:g=void 0}=e,{show_label:v=!0}=e,{max_lines:u}=e,{submit_btn:h=null}=e,{stop_btn:p=null}=e,{rtl:Y=!1}=e,{autofocus:C=!1}=e,{text_align:U=void 0}=e,{autoscroll:L=!0}=e,{root:y}=e,{file_types_string:W=null}=e,{max_file_size:ue=null}=e,{upload:ne}=e,{stream_handler:F}=e,{file_count:se="multiple"}=e,{max_plain_text_length:oe=1e3}=e,{waveform_settings:A}=e,{waveform_options:P={show_recording_waveform:!0}}=e,{sources_string:H="upload"}=e,{active_source:D=null}=e,{html_attributes:S=null}=e,T,_,b,j=0,re=!1,{dragging:$=!1}=e,me=!1,he=n?.text??"",ee=null,fe;const I=Qt();Jt(()=>{b=_&&_.offsetHeight+_.scrollTop>_.scrollHeight-100});const Te=()=>{b&&L&&!re&&_.scrollTo(0,_.scrollHeight)};async function pe(){I("change",n),d||I("input")}Xt(()=>{C&&_!==null&&_.focus()}),Ot(()=>{b&&L&&Te(),C&&_&&_.focus()});function De(s){const B=s.target,R=B.value,K=[B.selectionStart,B.selectionEnd];I("select",{value:R.substring(...K),index:K})}async function Se(s){await ye(),s.key==="Enter"&&s.shiftKey&&f>1?(s.preventDefault(),I("submit")):s.key==="Enter"&&!s.shiftKey&&f===1&&u>=1&&(s.preventDefault(),I("submit"),l(2,D=null),ee&&(n.files.push(ee),l(0,n),l(26,ee=null)))}function Me(s){const B=s.target,R=B.scrollTop;R<j&&(re=!0),j=R;const K=B.scrollHeight-B.clientHeight;R>=K&&(re=!1)}async function Ee({detail:s}){if(pe(),Array.isArray(s)){for(let B of s)n.files.push(B);l(0,n)}else n.files.push(s),l(0,n);await ye(),I("change",n),I("upload",s)}function we(s,B){pe(),s.stopPropagation(),n.files.splice(B,1),l(0,n)}function He(){T.open_upload()}function Be(){I("stop")}function Fe(){I("submit"),l(2,D=null),ee&&(n.files.push(ee),l(0,n),l(26,ee=null))}async function Ae(s){if(!s.clipboardData)return;const B=s.clipboardData.items,R=s.clipboardData.getData("text");if(R&&R.length>oe){s.preventDefault();const K=new window.File([R],"pasted_text.txt",{type:"text/plain",lastModified:Date.now()});T&&T.load_files([K]);return}for(let K in B){const _e=B[K];if(_e.kind==="file"&&_e.type.includes("image")){const ce=_e.getAsFile();ce&&T.load_files([ce])}}}function Pe(s){s.preventDefault(),l(1,$=!0)}function Ue(s){s.preventDefault();const B=fe.getBoundingClientRect(),{clientX:R,clientY:K}=s;(R<=B.left||R>=B.right||K<=B.top||K>=B.bottom)&&l(1,$=!1)}function je(s){if(s.preventDefault(),l(1,$=!1),s.dataTransfer&&s.dataTransfer.files){const B=Array.from(s.dataTransfer.files);if(o){const R=B.filter(_e=>o.some(ce=>ce.startsWith(".")?_e.name.toLowerCase().endsWith(ce.toLowerCase()):_e.type.match(new RegExp(ce.replace("*",".*"))))),K=B.length-R.length;K>0&&I("error",`${K} file(s) were rejected. Accepted formats: ${o.join(", ")}`),R.length>0&&T.load_files(R)}else T.load_files(B)}}function Ie(s){ke.call(this,t,s)}function Le(s){ke.call(this,t,s)}function r(s){ke.call(this,t,s)}const rt=(s,B)=>we(B,s),_t=({detail:s})=>{s!==null&&l(26,ee=s)},ft=()=>{l(2,D=null)},ct=()=>I("start_recording"),gt=()=>I("pause_recording"),mt=()=>I("stop_recording");function ht(s){de[s?"unshift":"push"](()=>{T=s,l(24,T)})}function dt(s){$=s,l(1,$)}function bt(s){me=s,l(25,me)}function pt(s){ke.call(this,t,s)}const wt=()=>{l(2,D=D!=="microphone"?"microphone":null)};function kt(){n.text=this.value,l(0,n)}function vt(s){de[s?"unshift":"push"](()=>{_=s,l(23,_)})}function zt(s){de[s?"unshift":"push"](()=>{fe=s,l(27,fe)})}return t.$$set=s=>{"value"in s&&l(0,n=s.value),"value_is_output"in s&&l(43,d=s.value_is_output),"lines"in s&&l(3,f=s.lines),"i18n"in s&&l(4,a=s.i18n),"placeholder"in s&&l(5,m=s.placeholder),"disabled"in s&&l(6,c=s.disabled),"label"in s&&l(7,z=s.label),"info"in s&&l(8,g=s.info),"show_label"in s&&l(9,v=s.show_label),"max_lines"in s&&l(10,u=s.max_lines),"submit_btn"in s&&l(11,h=s.submit_btn),"stop_btn"in s&&l(12,p=s.stop_btn),"rtl"in s&&l(13,Y=s.rtl),"autofocus"in s&&l(44,C=s.autofocus),"text_align"in s&&l(14,U=s.text_align),"autoscroll"in s&&l(45,L=s.autoscroll),"root"in s&&l(15,y=s.root),"file_types_string"in s&&l(46,W=s.file_types_string),"max_file_size"in s&&l(16,ue=s.max_file_size),"upload"in s&&l(17,ne=s.upload),"stream_handler"in s&&l(18,F=s.stream_handler),"file_count"in s&&l(19,se=s.file_count),"max_plain_text_length"in s&&l(47,oe=s.max_plain_text_length),"waveform_settings"in s&&l(20,A=s.waveform_settings),"waveform_options"in s&&l(21,P=s.waveform_options),"sources_string"in s&&l(48,H=s.sources_string),"active_source"in s&&l(2,D=s.active_source),"html_attributes"in s&&l(22,S=s.html_attributes),"dragging"in s&&l(1,$=s.dragging)},t.$$.update=()=>{t.$$.dirty[1]&131072&&l(29,i=H.split(",").map(s=>s.trim()).filter(s=>s==="upload"||s==="microphone")),t.$$.dirty[1]&32768&&l(28,o=W?W.split(",").map(s=>s.trim()):null),t.$$.dirty[0]&2&&I("drag",$),t.$$.dirty[0]&1&&n===null&&l(0,n={text:"",files:[]}),t.$$.dirty[0]&1|t.$$.dirty[1]&262144&&he!==n.text&&(I("change",n),l(49,he=n.text)),t.$$.dirty[0]&8389641&&_&&f!==u&&Re(_,f,u)},[n,$,D,f,a,m,c,z,g,v,u,h,p,Y,U,y,ue,ne,F,se,A,P,S,_,T,me,ee,fe,o,i,I,De,Se,Me,Ee,we,He,Be,Fe,Ae,Pe,Ue,je,d,C,L,W,oe,H,he,Ie,Le,r,rt,_t,ft,ct,gt,mt,ht,dt,bt,pt,wt,kt,vt,zt]}class al extends Rt{constructor(e){super(),Kt(this,e,ol,sl,Nt,{value:0,value_is_output:43,lines:3,i18n:4,placeholder:5,disabled:6,label:7,info:8,show_label:9,max_lines:10,submit_btn:11,stop_btn:12,rtl:13,autofocus:44,text_align:14,autoscroll:45,root:15,file_types_string:46,max_file_size:16,upload:17,stream_handler:18,file_count:19,max_plain_text_length:47,waveform_settings:20,waveform_options:21,sources_string:48,active_source:2,html_attributes:22,dragging:1},null,[-1,-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),M()}get value_is_output(){return this.$$.ctx[43]}set value_is_output(e){this.$$set({value_is_output:e}),M()}get lines(){return this.$$.ctx[3]}set lines(e){this.$$set({lines:e}),M()}get i18n(){return this.$$.ctx[4]}set i18n(e){this.$$set({i18n:e}),M()}get placeholder(){return this.$$.ctx[5]}set placeholder(e){this.$$set({placeholder:e}),M()}get disabled(){return this.$$.ctx[6]}set disabled(e){this.$$set({disabled:e}),M()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),M()}get info(){return this.$$.ctx[8]}set info(e){this.$$set({info:e}),M()}get show_label(){return this.$$.ctx[9]}set show_label(e){this.$$set({show_label:e}),M()}get max_lines(){return this.$$.ctx[10]}set max_lines(e){this.$$set({max_lines:e}),M()}get submit_btn(){return this.$$.ctx[11]}set submit_btn(e){this.$$set({submit_btn:e}),M()}get stop_btn(){return this.$$.ctx[12]}set stop_btn(e){this.$$set({stop_btn:e}),M()}get rtl(){return this.$$.ctx[13]}set rtl(e){this.$$set({rtl:e}),M()}get autofocus(){return this.$$.ctx[44]}set autofocus(e){this.$$set({autofocus:e}),M()}get text_align(){return this.$$.ctx[14]}set text_align(e){this.$$set({text_align:e}),M()}get autoscroll(){return this.$$.ctx[45]}set autoscroll(e){this.$$set({autoscroll:e}),M()}get root(){return this.$$.ctx[15]}set root(e){this.$$set({root:e}),M()}get file_types_string(){return this.$$.ctx[46]}set file_types_string(e){this.$$set({file_types_string:e}),M()}get max_file_size(){return this.$$.ctx[16]}set max_file_size(e){this.$$set({max_file_size:e}),M()}get upload(){return this.$$.ctx[17]}set upload(e){this.$$set({upload:e}),M()}get stream_handler(){return this.$$.ctx[18]}set stream_handler(e){this.$$set({stream_handler:e}),M()}get file_count(){return this.$$.ctx[19]}set file_count(e){this.$$set({file_count:e}),M()}get max_plain_text_length(){return this.$$.ctx[47]}set max_plain_text_length(e){this.$$set({max_plain_text_length:e}),M()}get waveform_settings(){return this.$$.ctx[20]}set waveform_settings(e){this.$$set({waveform_settings:e}),M()}get waveform_options(){return this.$$.ctx[21]}set waveform_options(e){this.$$set({waveform_options:e}),M()}get sources_string(){return this.$$.ctx[48]}set sources_string(e){this.$$set({sources_string:e}),M()}get active_source(){return this.$$.ctx[2]}set active_source(e){this.$$set({active_source:e}),M()}get html_attributes(){return this.$$.ctx[22]}set html_attributes(e){this.$$set({html_attributes:e}),M()}get dragging(){return this.$$.ctx[1]}set dragging(e){this.$$set({dragging:e}),M()}}const{SvelteComponent:ul,add_flush_callback:ve,assign:rl,bind:ze,binding_callbacks:qe,check_outros:_l,create_component:Ke,destroy_component:Ye,detach:fl,flush:E,get_spread_object:cl,get_spread_update:gl,group_outros:ml,init:hl,insert:dl,mount_component:Ge,safe_not_equal:bl,space:pl,transition_in:ge,transition_out:be}=window.__gradio__svelte__internal,{onMount:wl}=window.__gradio__svelte__internal;function at(t){let e,l;const i=[{autoscroll:t[2].autoscroll},{i18n:t[2].i18n},t[16]];let o={};for(let n=0;n<i.length;n+=1)o=rl(o,i[n]);return e=new jt({props:o}),e.$on("clear_status",t[37]),{c(){Ke(e.$$.fragment)},m(n,d){Ge(e,n,d),l=!0},p(n,d){const f=d[0]&65540?gl(i,[d[0]&4&&{autoscroll:n[2].autoscroll},d[0]&4&&{i18n:n[2].i18n},d[0]&65536&&cl(n[16])]):{};e.$set(f)},i(n){l||(ge(e.$$.fragment,n),l=!0)},o(n){be(e.$$.fragment,n),l=!1},d(n){Ye(e,n)}}}function kl(t){let e,l,i,o,n,d,f,a=t[16]&&at(t);function m(u){t[38](u)}function c(u){t[39](u)}function z(u){t[40](u)}function g(u){t[41](u)}let v={file_types_string:t[29],root:t[22],label:t[8],info:t[9],show_label:t[10],lines:t[6],rtl:t[17],text_align:t[18],waveform_settings:t[28],i18n:t[32],max_lines:t[11]?t[11]:t[6]+1,placeholder:t[7],submit_btn:t[14],stop_btn:t[15],autofocus:t[19],autoscroll:t[20],file_count:t[23],sources_string:t[30],max_file_size:t[2].max_file_size,disabled:!t[21],upload:t[31],stream_handler:t[33],max_plain_text_length:t[24],html_attributes:t[25]};return t[0]!==void 0&&(v.value=t[0]),t[1]!==void 0&&(v.value_is_output=t[1]),t[26]!==void 0&&(v.dragging=t[26]),t[27]!==void 0&&(v.active_source=t[27]),l=new al({props:v}),qe.push(()=>ze(l,"value",m)),qe.push(()=>ze(l,"value_is_output",c)),qe.push(()=>ze(l,"dragging",z)),qe.push(()=>ze(l,"active_source",g)),l.$on("change",t[42]),l.$on("input",t[43]),l.$on("submit",t[44]),l.$on("stop",t[45]),l.$on("blur",t[46]),l.$on("select",t[47]),l.$on("focus",t[48]),l.$on("error",t[49]),l.$on("start_recording",t[50]),l.$on("pause_recording",t[51]),l.$on("stop_recording",t[52]),l.$on("upload",t[53]),l.$on("clear",t[54]),{c(){a&&a.c(),e=pl(),Ke(l.$$.fragment)},m(u,h){a&&a.m(u,h),dl(u,e,h),Ge(l,u,h),f=!0},p(u,h){u[16]?a?(a.p(u,h),h[0]&65536&&ge(a,1)):(a=at(u),a.c(),ge(a,1),a.m(e.parentNode,e)):a&&(ml(),be(a,1,1,()=>{a=null}),_l());const p={};h[0]&536870912&&(p.file_types_string=u[29]),h[0]&4194304&&(p.root=u[22]),h[0]&256&&(p.label=u[8]),h[0]&512&&(p.info=u[9]),h[0]&1024&&(p.show_label=u[10]),h[0]&64&&(p.lines=u[6]),h[0]&131072&&(p.rtl=u[17]),h[0]&262144&&(p.text_align=u[18]),h[0]&268435456&&(p.waveform_settings=u[28]),h[0]&2112&&(p.max_lines=u[11]?u[11]:u[6]+1),h[0]&128&&(p.placeholder=u[7]),h[0]&16384&&(p.submit_btn=u[14]),h[0]&32768&&(p.stop_btn=u[15]),h[0]&524288&&(p.autofocus=u[19]),h[0]&1048576&&(p.autoscroll=u[20]),h[0]&8388608&&(p.file_count=u[23]),h[0]&1073741824&&(p.sources_string=u[30]),h[0]&4&&(p.max_file_size=u[2].max_file_size),h[0]&2097152&&(p.disabled=!u[21]),h[0]&16777216&&(p.max_plain_text_length=u[24]),h[0]&33554432&&(p.html_attributes=u[25]),!i&&h[0]&1&&(i=!0,p.value=u[0],ve(()=>i=!1)),!o&&h[0]&2&&(o=!0,p.value_is_output=u[1],ve(()=>o=!1)),!n&&h[0]&67108864&&(n=!0,p.dragging=u[26],ve(()=>n=!1)),!d&&h[0]&134217728&&(d=!0,p.active_source=u[27],ve(()=>d=!1)),l.$set(p)},i(u){f||(ge(a),ge(l.$$.fragment,u),f=!0)},o(u){be(a),be(l.$$.fragment,u),f=!1},d(u){u&&fl(e),a&&a.d(u),Ye(l,u)}}}function vl(t){let e,l;return e=new Ft({props:{visible:t[5],elem_id:t[3],elem_classes:[...t[4],"multimodal-textbox"],scale:t[12],min_width:t[13],allow_overflow:!1,padding:!1,border_mode:t[26]?"focus":"base",$$slots:{default:[kl]},$$scope:{ctx:t}}}),{c(){Ke(e.$$.fragment)},m(i,o){Ge(e,i,o),l=!0},p(i,o){const n={};o[0]&32&&(n.visible=i[5]),o[0]&8&&(n.elem_id=i[3]),o[0]&16&&(n.elem_classes=[...i[4],"multimodal-textbox"]),o[0]&4096&&(n.scale=i[12]),o[0]&8192&&(n.min_width=i[13]),o[0]&67108864&&(n.border_mode=i[26]?"focus":"base"),o[0]&2147471303|o[1]&134217728&&(n.$$scope={dirty:o,ctx:i}),e.$set(n)},i(i){l||(ge(e.$$.fragment,i),l=!0)},o(i){be(e.$$.fragment,i),l=!1},d(i){Ye(e,i)}}}function zl(t,e,l){let i,o,{gradio:n}=e,{elem_id:d=""}=e,{elem_classes:f=[]}=e,{visible:a=!0}=e,{value:m={text:"",files:[]}}=e,{file_types:c=null}=e,{lines:z}=e,{placeholder:g=""}=e,{label:v="MultimodalTextbox"}=e,{info:u=void 0}=e,{show_label:h}=e,{max_lines:p}=e,{scale:Y=null}=e,{min_width:C=void 0}=e,{submit_btn:U=null}=e,{stop_btn:L=null}=e,{loading_status:y=void 0}=e,{value_is_output:W=!1}=e,{rtl:ue=!1}=e,{text_align:ne=void 0}=e,{autofocus:F=!1}=e,{autoscroll:se=!0}=e,{interactive:oe}=e,{root:A}=e,{file_count:P}=e,{max_plain_text_length:H}=e,{sources:D=["upload"]}=e,{waveform_options:S={}}=e,{html_attributes:T=null}=e,_,b=null,j,re="darkorange";wl(()=>{re=getComputedStyle(document?.documentElement).getPropertyValue("--color-accent"),me(),l(28,j.waveColor=S.waveform_color||"#9ca3af",j),l(28,j.progressColor=S.waveform_progress_color||re,j),l(28,j.mediaControls=S.show_controls,j),l(28,j.sampleRate=S.sample_rate||44100,j)});const $={color:S.trim_region_color};function me(){document.documentElement.style.setProperty("--trim-region-color",$.color||re)}const he=(...r)=>n.client.upload(...r),ee=r=>n.i18n(r),fe=(...r)=>n.client.stream(...r),I=()=>n.dispatch("clear_status",y);function Te(r){m=r,l(0,m)}function pe(r){W=r,l(1,W)}function Ne(r){_=r,l(26,_)}function De(r){b=r,l(27,b)}const Se=()=>n.dispatch("change",m),Me=()=>n.dispatch("input"),Ee=()=>n.dispatch("submit"),we=()=>n.dispatch("stop"),He=()=>n.dispatch("blur"),Be=r=>n.dispatch("select",r.detail),Fe=()=>n.dispatch("focus"),Ae=({detail:r})=>{n.dispatch("error",r)},Pe=()=>n.dispatch("start_recording"),Ue=()=>n.dispatch("pause_recording"),je=()=>n.dispatch("stop_recording"),Ie=r=>n.dispatch("upload",r.detail),Le=()=>n.dispatch("clear");return t.$$set=r=>{"gradio"in r&&l(2,n=r.gradio),"elem_id"in r&&l(3,d=r.elem_id),"elem_classes"in r&&l(4,f=r.elem_classes),"visible"in r&&l(5,a=r.visible),"value"in r&&l(0,m=r.value),"file_types"in r&&l(34,c=r.file_types),"lines"in r&&l(6,z=r.lines),"placeholder"in r&&l(7,g=r.placeholder),"label"in r&&l(8,v=r.label),"info"in r&&l(9,u=r.info),"show_label"in r&&l(10,h=r.show_label),"max_lines"in r&&l(11,p=r.max_lines),"scale"in r&&l(12,Y=r.scale),"min_width"in r&&l(13,C=r.min_width),"submit_btn"in r&&l(14,U=r.submit_btn),"stop_btn"in r&&l(15,L=r.stop_btn),"loading_status"in r&&l(16,y=r.loading_status),"value_is_output"in r&&l(1,W=r.value_is_output),"rtl"in r&&l(17,ue=r.rtl),"text_align"in r&&l(18,ne=r.text_align),"autofocus"in r&&l(19,F=r.autofocus),"autoscroll"in r&&l(20,se=r.autoscroll),"interactive"in r&&l(21,oe=r.interactive),"root"in r&&l(22,A=r.root),"file_count"in r&&l(23,P=r.file_count),"max_plain_text_length"in r&&l(24,H=r.max_plain_text_length),"sources"in r&&l(35,D=r.sources),"waveform_options"in r&&l(36,S=r.waveform_options),"html_attributes"in r&&l(25,T=r.html_attributes)},t.$$.update=()=>{t.$$.dirty[1]&16&&l(30,i=D.join(",")),t.$$.dirty[1]&8&&l(29,o=(c||[]).join(",")||null)},l(28,j={height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:!1,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20}),[m,W,n,d,f,a,z,g,v,u,h,p,Y,C,U,L,y,ue,ne,F,se,oe,A,P,H,T,_,b,j,o,i,he,ee,fe,c,D,S,I,Te,pe,Ne,De,Se,Me,Ee,we,He,Be,Fe,Ae,Pe,Ue,je,Ie,Le]}class Il extends ul{constructor(e){super(),hl(this,e,zl,vl,bl,{gradio:2,elem_id:3,elem_classes:4,visible:5,value:0,file_types:34,lines:6,placeholder:7,label:8,info:9,show_label:10,max_lines:11,scale:12,min_width:13,submit_btn:14,stop_btn:15,loading_status:16,value_is_output:1,rtl:17,text_align:18,autofocus:19,autoscroll:20,interactive:21,root:22,file_count:23,max_plain_text_length:24,sources:35,waveform_options:36,html_attributes:25},null,[-1,-1])}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),E()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),E()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),E()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),E()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),E()}get file_types(){return this.$$.ctx[34]}set file_types(e){this.$$set({file_types:e}),E()}get lines(){return this.$$.ctx[6]}set lines(e){this.$$set({lines:e}),E()}get placeholder(){return this.$$.ctx[7]}set placeholder(e){this.$$set({placeholder:e}),E()}get label(){return this.$$.ctx[8]}set label(e){this.$$set({label:e}),E()}get info(){return this.$$.ctx[9]}set info(e){this.$$set({info:e}),E()}get show_label(){return this.$$.ctx[10]}set show_label(e){this.$$set({show_label:e}),E()}get max_lines(){return this.$$.ctx[11]}set max_lines(e){this.$$set({max_lines:e}),E()}get scale(){return this.$$.ctx[12]}set scale(e){this.$$set({scale:e}),E()}get min_width(){return this.$$.ctx[13]}set min_width(e){this.$$set({min_width:e}),E()}get submit_btn(){return this.$$.ctx[14]}set submit_btn(e){this.$$set({submit_btn:e}),E()}get stop_btn(){return this.$$.ctx[15]}set stop_btn(e){this.$$set({stop_btn:e}),E()}get loading_status(){return this.$$.ctx[16]}set loading_status(e){this.$$set({loading_status:e}),E()}get value_is_output(){return this.$$.ctx[1]}set value_is_output(e){this.$$set({value_is_output:e}),E()}get rtl(){return this.$$.ctx[17]}set rtl(e){this.$$set({rtl:e}),E()}get text_align(){return this.$$.ctx[18]}set text_align(e){this.$$set({text_align:e}),E()}get autofocus(){return this.$$.ctx[19]}set autofocus(e){this.$$set({autofocus:e}),E()}get autoscroll(){return this.$$.ctx[20]}set autoscroll(e){this.$$set({autoscroll:e}),E()}get interactive(){return this.$$.ctx[21]}set interactive(e){this.$$set({interactive:e}),E()}get root(){return this.$$.ctx[22]}set root(e){this.$$set({root:e}),E()}get file_count(){return this.$$.ctx[23]}set file_count(e){this.$$set({file_count:e}),E()}get max_plain_text_length(){return this.$$.ctx[24]}set max_plain_text_length(e){this.$$set({max_plain_text_length:e}),E()}get sources(){return this.$$.ctx[35]}set sources(e){this.$$set({sources:e}),E()}get waveform_options(){return this.$$.ctx[36]}set waveform_options(e){this.$$set({waveform_options:e}),E()}get html_attributes(){return this.$$.ctx[25]}set html_attributes(e){this.$$set({html_attributes:e}),E()}}export{Vl as BaseExample,al as BaseMultimodalTextbox,Il as default};
//# sourceMappingURL=Index-BkBxWuEY.js.map
