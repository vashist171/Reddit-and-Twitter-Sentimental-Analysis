import{g as Kt,I as Qt}from"./ImagePreview-AieVzSem.js";import{W as Gt,K as Vt,N as zt,O as Xt,h as Yt,Q as Zt,B as $t,d as It,I as xt,s as en,a as tn,k as nn,F as ln,c as Dt,U as St,E as sn}from"./FullscreenButton-D7OpqaEU.js";import"./init-BXnIR-ED.js";import{a as rn,f as an,S as yt}from"./StreamingBar-Bc_J-1Oe.js";import{p as on,F as un}from"./index-BvFm9VBJ.js";import{U as _n,a as fn}from"./ModifyUpload-DeA0LoIt.js";import{I as cn}from"./Image-0bVIZe-w.js";import{default as Zl}from"./Example-BU7VN3ij.js";import"./MarkdownCode-DhbjNcA6.js";import"./prism-python-Dt5iPx6n.js";import"./svelte/svelte.js";const{SvelteComponent:mn,append:je,attr:nt,create_component:dn,destroy_component:gn,detach:hn,element:lt,init:bn,insert:pn,listen:wn,mount_component:vn,noop:kn,safe_not_equal:zn,set_style:In,space:Dn,text:Sn,transition_in:yn,transition_out:En}=window.__gradio__svelte__internal,{createEventDispatcher:Cn}=window.__gradio__svelte__internal;function Bn(l){let e,t,n,i,o,s="Click to Access Webcam",a,r,f,c;return i=new Gt({}),{c(){e=lt("button"),t=lt("div"),n=lt("span"),dn(i.$$.fragment),o=Dn(),a=Sn(s),nt(n,"class","icon-wrap svelte-qbrfs"),nt(t,"class","wrap svelte-qbrfs"),nt(e,"class","svelte-qbrfs"),In(e,"height","100%")},m(d,v){pn(d,e,v),je(e,t),je(t,n),vn(i,n,null),je(t,o),je(t,a),r=!0,f||(c=wn(e,"click",l[1]),f=!0)},p:kn,i(d){r||(yn(i.$$.fragment,d),r=!0)},o(d){En(i.$$.fragment,d),r=!1},d(d){d&&hn(e),gn(i),f=!1,c()}}}function qn(l){const e=Cn();return[e,()=>e("click")]}class Nn extends mn{constructor(e){super(),bn(this,e,qn,Bn,zn,{})}}function Un(){return navigator.mediaDevices.enumerateDevices()}function Tn(l,e){e.srcObject=l,e.muted=!0,e.play()}async function _t(l,e,t,n){const i={video:n?{deviceId:{exact:n},...t?.video}:t?.video||{width:{ideal:1920},height:{ideal:1440}},audio:l&&(t?.audio??!0)};return navigator.mediaDevices.getUserMedia(i).then(o=>(Tn(o,e),o))}function Mn(l){return l.filter(t=>t.kind==="videoinput")}const{SvelteComponent:Wn,action_destroyer:Pn,add_render_callback:Rn,append:R,attr:C,binding_callbacks:Fn,check_outros:Ne,create_component:be,create_in_transition:jn,destroy_component:pe,destroy_each:Ln,detach:Q,element:A,empty:at,ensure_array_like:ft,flush:te,group_outros:Ue,init:On,insert:G,listen:He,mount_component:we,noop:ot,run_all:An,safe_not_equal:Hn,set_data:Re,set_input_value:it,set_style:Et,space:le,src_url_equal:ct,stop_propagation:Jn,text:Fe,toggle_class:Se,transition_in:F,transition_out:O}=window.__gradio__svelte__internal,{createEventDispatcher:Kn,onDestroy:Qn,onMount:Gn}=window.__gradio__svelte__internal;function mt(l,e,t){const n=l.slice();return n[39]=e[t],n}function Vn(l){let e,t,n,i,o,s,a,r,f,c,d;const v=[Zn,Yn],D=[];function M(z,S){return z[2]==="video"||z[1]?0:1}n=M(l),i=D[n]=v[n](l);let h=!l[11]&&dt(l),k=l[13]&&l[8]&&gt(l);return{c(){e=A("div"),t=A("button"),i.c(),s=le(),h&&h.c(),a=le(),k&&k.c(),r=at(),C(t,"aria-label",o=l[2]==="image"?"capture photo":"start recording"),C(t,"class","svelte-10cpz3p"),C(e,"class","button-wrap svelte-10cpz3p")},m(z,S){G(z,e,S),R(e,t),D[n].m(t,null),R(e,s),h&&h.m(e,null),G(z,a,S),k&&k.m(z,S),G(z,r,S),f=!0,c||(d=He(t,"click",l[28]),c=!0)},p(z,S){let q=n;n=M(z),n===q?D[n].p(z,S):(Ue(),O(D[q],1,1,()=>{D[q]=null}),Ne(),i=D[n],i?i.p(z,S):(i=D[n]=v[n](z),i.c()),F(i,1),i.m(t,null)),(!f||S[0]&4&&o!==(o=z[2]==="image"?"capture photo":"start recording"))&&C(t,"aria-label",o),z[11]?h&&(Ue(),O(h,1,1,()=>{h=null}),Ne()):h?(h.p(z,S),S[0]&2048&&F(h,1)):(h=dt(z),h.c(),F(h,1),h.m(e,null)),z[13]&&z[8]?k?(k.p(z,S),S[0]&8448&&F(k,1)):(k=gt(z),k.c(),F(k,1),k.m(r.parentNode,r)):k&&(Ue(),O(k,1,1,()=>{k=null}),Ne())},i(z){f||(F(i),F(h),F(k),f=!0)},o(z){O(i),O(h),O(k),f=!1},d(z){z&&(Q(e),Q(a),Q(r)),D[n].d(),h&&h.d(),k&&k.d(z),c=!1,d()}}}function Xn(l){let e,t,n,i;return t=new Nn({}),t.$on("click",l[27]),{c(){e=A("div"),be(t.$$.fragment),C(e,"title","grant webcam access"),Et(e,"height","100%")},m(o,s){G(o,e,s),we(t,e,null),i=!0},p:ot,i(o){i||(F(t.$$.fragment,o),o&&(n||Rn(()=>{n=jn(e,an,{delay:100,duration:200}),n.start()})),i=!0)},o(o){O(t.$$.fragment,o),i=!1},d(o){o&&Q(e),pe(t)}}}function Yn(l){let e,t,n;return t=new Vt({}),{c(){e=A("div"),be(t.$$.fragment),C(e,"class","icon svelte-10cpz3p"),C(e,"title","capture photo")},m(i,o){G(i,e,o),we(t,e,null),n=!0},p:ot,i(i){n||(F(t.$$.fragment,i),n=!0)},o(i){O(t.$$.fragment,i),n=!1},d(i){i&&Q(e),pe(t)}}}function Zn(l){let e,t,n,i;const o=[el,xn,$n],s=[];function a(r,f){return r[1]&&r[10]==="waiting"?0:r[1]&&r[10]==="open"||!r[1]&&r[11]?1:2}return e=a(l),t=s[e]=o[e](l),{c(){t.c(),n=at()},m(r,f){s[e].m(r,f),G(r,n,f),i=!0},p(r,f){let c=e;e=a(r),e===c?s[e].p(r,f):(Ue(),O(s[c],1,1,()=>{s[c]=null}),Ne(),t=s[e],t?t.p(r,f):(t=s[e]=o[e](r),t.c()),F(t,1),t.m(n.parentNode,n))},i(r){i||(F(t),i=!0)},o(r){O(t),i=!1},d(r){r&&Q(n),s[e].d(r)}}}function $n(l){let e,t,n,i,o=l[4]("audio.record")+"",s,a;return n=new Zt({}),{c(){e=A("div"),t=A("div"),be(n.$$.fragment),i=le(),s=Fe(o),C(t,"class","icon color-primary svelte-10cpz3p"),C(t,"title","start recording"),C(e,"class","icon-with-text svelte-10cpz3p")},m(r,f){G(r,e,f),R(e,t),we(n,t,null),R(e,i),R(e,s),a=!0},p(r,f){(!a||f[0]&16)&&o!==(o=r[4]("audio.record")+"")&&Re(s,o)},i(r){a||(F(n.$$.fragment,r),a=!0)},o(r){O(n.$$.fragment,r),a=!1},d(r){r&&Q(e),pe(n)}}}function xn(l){let e,t,n,i,o=l[4]("audio.stop")+"",s,a;return n=new Yt({}),{c(){e=A("div"),t=A("div"),be(n.$$.fragment),i=le(),s=Fe(o),C(t,"class","icon color-primary svelte-10cpz3p"),C(t,"title","stop recording"),C(e,"class","icon-with-text svelte-10cpz3p")},m(r,f){G(r,e,f),R(e,t),we(n,t,null),R(e,i),R(e,s),a=!0},p(r,f){(!a||f[0]&16)&&o!==(o=r[4]("audio.stop")+"")&&Re(s,o)},i(r){a||(F(n.$$.fragment,r),a=!0)},o(r){O(n.$$.fragment,r),a=!1},d(r){r&&Q(e),pe(n)}}}function el(l){let e,t,n,i,o=l[4]("audio.waiting")+"",s,a;return n=new Xt({}),{c(){e=A("div"),t=A("div"),be(n.$$.fragment),i=le(),s=Fe(o),C(t,"class","icon color-primary svelte-10cpz3p"),C(t,"title","spinner"),C(e,"class","icon-with-text svelte-10cpz3p"),Et(e,"width","var(--size-24)")},m(r,f){G(r,e,f),R(e,t),we(n,t,null),R(e,i),R(e,s),a=!0},p(r,f){(!a||f[0]&16)&&o!==(o=r[4]("audio.waiting")+"")&&Re(s,o)},i(r){a||(F(n.$$.fragment,r),a=!0)},o(r){O(n.$$.fragment,r),a=!1},d(r){r&&Q(e),pe(n)}}}function dt(l){let e,t,n,i,o;return t=new zt({}),{c(){e=A("button"),be(t.$$.fragment),C(e,"class","icon svelte-10cpz3p"),C(e,"aria-label","select input source")},m(s,a){G(s,e,a),we(t,e,null),n=!0,i||(o=He(e,"click",l[29]),i=!0)},p:ot,i(s){n||(F(t.$$.fragment,s),n=!0)},o(s){O(t.$$.fragment,s),n=!1},d(s){s&&Q(e),pe(t),i=!1,o()}}}function gt(l){let e,t,n,i,o,s,a;n=new zt({});function r(d,v){return d[7].length===0?nl:tl}let f=r(l),c=f(l);return{c(){e=A("select"),t=A("button"),be(n.$$.fragment),i=le(),c.c(),C(t,"class","inset-icon svelte-10cpz3p"),C(e,"class","select-wrap svelte-10cpz3p"),C(e,"aria-label","select source")},m(d,v){G(d,e,v),R(e,t),we(n,t,null),R(t,i),c.m(e,null),o=!0,s||(a=[He(t,"click",Jn(l[30])),Pn(ut.call(null,e,l[17])),He(e,"change",l[14])],s=!0)},p(d,v){f===(f=r(d))&&c?c.p(d,v):(c.d(1),c=f(d),c&&(c.c(),c.m(e,null)))},i(d){o||(F(n.$$.fragment,d),o=!0)},o(d){O(n.$$.fragment,d),o=!1},d(d){d&&Q(e),pe(n),c.d(),s=!1,An(a)}}}function tl(l){let e,t=ft(l[7]),n=[];for(let i=0;i<t.length;i+=1)n[i]=ht(mt(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=at()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);G(i,e,o)},p(i,o){if(o[0]&384){t=ft(i[7]);let s;for(s=0;s<t.length;s+=1){const a=mt(i,t,s);n[s]?n[s].p(a,o):(n[s]=ht(a),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(i){i&&Q(e),Ln(n,i)}}}function nl(l){let e,t=l[4]("common.no_devices")+"",n;return{c(){e=A("option"),n=Fe(t),e.__value="",it(e,e.__value),C(e,"class","svelte-10cpz3p")},m(i,o){G(i,e,o),R(e,n)},p(i,o){o[0]&16&&t!==(t=i[4]("common.no_devices")+"")&&Re(n,t)},d(i){i&&Q(e)}}}function ht(l){let e,t=l[39].label+"",n,i,o,s;return{c(){e=A("option"),n=Fe(t),i=le(),e.__value=o=l[39].deviceId,it(e,e.__value),e.selected=s=l[8].deviceId===l[39].deviceId,C(e,"class","svelte-10cpz3p")},m(a,r){G(a,e,r),R(e,n),R(e,i)},p(a,r){r[0]&128&&t!==(t=a[39].label+"")&&Re(n,t),r[0]&128&&o!==(o=a[39].deviceId)&&(e.__value=o,it(e,e.__value)),r[0]&384&&s!==(s=a[8].deviceId===a[39].deviceId)&&(e.selected=s)},d(a){a&&Q(e)}}}function ll(l){let e,t,n,i,o,s,a,r,f,c,d;t=new rn({props:{time_limit:l[9]}});const v=[Xn,Vn],D=[];function M(h,k){return h[12]?1:0}return f=M(l),c=D[f]=v[f](l),{c(){e=A("div"),be(t.$$.fragment),n=le(),i=A("video"),o=le(),s=A("img"),r=le(),c.c(),C(i,"class","svelte-10cpz3p"),Se(i,"flip",l[3]),Se(i,"hide",!l[12]||l[12]&&!!l[0]),ct(s.src,a=l[0]?.url)||C(s,"src",a),C(s,"class","svelte-10cpz3p"),Se(s,"hide",!l[12]||l[12]&&!l[0]),C(e,"class","wrap svelte-10cpz3p")},m(h,k){G(h,e,k),we(t,e,null),R(e,n),R(e,i),l[26](i),R(e,o),R(e,s),R(e,r),D[f].m(e,null),d=!0},p(h,k){const z={};k[0]&512&&(z.time_limit=h[9]),t.$set(z),(!d||k[0]&8)&&Se(i,"flip",h[3]),(!d||k[0]&4097)&&Se(i,"hide",!h[12]||h[12]&&!!h[0]),(!d||k[0]&1&&!ct(s.src,a=h[0]?.url))&&C(s,"src",a),(!d||k[0]&4097)&&Se(s,"hide",!h[12]||h[12]&&!h[0]);let S=f;f=M(h),f===S?D[f].p(h,k):(Ue(),O(D[S],1,1,()=>{D[S]=null}),Ne(),c=D[f],c?c.p(h,k):(c=D[f]=v[f](h),c.c()),F(c,1),c.m(e,null))},i(h){d||(F(t.$$.fragment,h),F(c),d=!0)},o(h){O(t.$$.fragment,h),O(c),d=!1},d(h){h&&Q(e),pe(t),l[26](null),D[f].d()}}}function ut(l,e){const t=n=>{l&&!l.contains(n.target)&&!n.defaultPrevented&&e(n)};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function il(l,e,t){let n,i=[],o=null,s=null,a="closed";const r=b=>{b==="closed"?(t(9,s=null),t(10,a="closed"),t(0,p=null)):b==="waiting"?t(10,a="waiting"):t(10,a="open")},f=b=>{w&&t(9,s=b)};let c,{streaming:d=!1}=e,{pending:v=!1}=e,{root:D=""}=e,{stream_every:M=1}=e,{mode:h="image"}=e,{mirror_webcam:k}=e,{include_audio:z}=e,{webcam_constraints:S=null}=e,{i18n:q}=e,{upload:g}=e,{value:p=null}=e;const B=Kn();Gn(()=>{c=document.createElement("canvas"),d&&h==="image"&&window.setInterval(()=>{n&&!v&&m()},M*1e3)});const I=async b=>{const $=b.target.value;await _t(z,n,S,$).then(async ke=>{L=ke,t(8,o=i.find(ze=>ze.deviceId===$)||null),t(13,H=!1)})};async function y(){try{_t(z,n,S).then(async b=>{t(12,x=!0),t(7,i=await Un()),L=b}).then(()=>Mn(i)).then(b=>{t(7,i=b);const W=L.getTracks().map($=>$.getSettings()?.deviceId)[0];t(8,o=W&&b.find($=>$.deviceId===W)||i[0])}),(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)&&B("error",q("image.no_webcam_support"))}catch(b){if(b instanceof DOMException&&b.name=="NotAllowedError")B("error",q("image.allow_webcam_access"));else throw b}}function m(){var b=c.getContext("2d");if((!d||d&&w)&&n.videoWidth&&n.videoHeight){if(c.width=n.videoWidth,c.height=n.videoHeight,b.drawImage(n,0,0,n.videoWidth,n.videoHeight),k&&(b.scale(-1,1),b.drawImage(n,-n.videoWidth,0)),d&&(!w||a==="waiting"))return;if(d){const W=c.toDataURL("image/jpeg");B("stream",W);return}c.toBlob(W=>{B(d?"stream":"capture",W)},`image/${d?"jpeg":"png"}`,.8)}}let w=!1,Y=[],L,U,J;function De(){if(w){J.stop();let b=new Blob(Y,{type:U}),W=new FileReader;W.onload=async function($){if($.target){let ke=new File([b],"sample."+U.substring(6));const ze=await on([ke]);let Ce=(await g(ze,D))?.filter(Boolean)[0];B("capture",Ce),B("stop_recording")}},W.readAsDataURL(b)}else if(typeof MediaRecorder<"u"){B("start_recording"),Y=[];let b=["video/webm","video/mp4"];for(let W of b)if(MediaRecorder.isTypeSupported(W)){U=W;break}if(U===null){console.error("No supported MediaRecorder mimeType");return}J=new MediaRecorder(L,{mimeType:U}),J.addEventListener("dataavailable",function(W){Y.push(W.data)}),J.start(200)}t(11,w=!w)}let x=!1;function K({destroy:b}={}){h==="image"&&d&&t(11,w=!w),b||(h==="image"?m():De()),!w&&L&&(B("close_stream"),L.getTracks().forEach(W=>W.stop()),t(6,n.srcObject=null,n),t(12,x=!1),window.setTimeout(()=>{t(0,p=null)},500),t(0,p=null))}let H=!1;function Z(b){b.preventDefault(),b.stopPropagation(),t(13,H=!1)}Qn(()=>{typeof window>"u"||(K({destroy:!0}),L?.getTracks().forEach(b=>b.stop()))});function de(b){Fn[b?"unshift":"push"](()=>{n=b,t(6,n)})}const T=async()=>y(),ee=()=>K(),ve=()=>t(13,H=!0),ae=()=>t(13,H=!1);return l.$$set=b=>{"streaming"in b&&t(1,d=b.streaming),"pending"in b&&t(20,v=b.pending),"root"in b&&t(21,D=b.root),"stream_every"in b&&t(22,M=b.stream_every),"mode"in b&&t(2,h=b.mode),"mirror_webcam"in b&&t(3,k=b.mirror_webcam),"include_audio"in b&&t(23,z=b.include_audio),"webcam_constraints"in b&&t(24,S=b.webcam_constraints),"i18n"in b&&t(4,q=b.i18n),"upload"in b&&t(25,g=b.upload),"value"in b&&t(0,p=b.value)},[p,d,h,k,q,ut,n,i,o,s,a,w,x,H,I,y,K,Z,r,f,v,D,M,z,S,g,de,T,ee,ve,ae]}class sl extends Wn{constructor(e){super(),On(this,e,il,ll,Hn,{modify_stream:18,set_time_limit:19,streaming:1,pending:20,root:21,stream_every:22,mode:2,mirror_webcam:3,include_audio:23,webcam_constraints:24,i18n:4,upload:25,value:0,click_outside:5},null,[-1,-1])}get modify_stream(){return this.$$.ctx[18]}get set_time_limit(){return this.$$.ctx[19]}get streaming(){return this.$$.ctx[1]}set streaming(e){this.$$set({streaming:e}),te()}get pending(){return this.$$.ctx[20]}set pending(e){this.$$set({pending:e}),te()}get root(){return this.$$.ctx[21]}set root(e){this.$$set({root:e}),te()}get stream_every(){return this.$$.ctx[22]}set stream_every(e){this.$$set({stream_every:e}),te()}get mode(){return this.$$.ctx[2]}set mode(e){this.$$set({mode:e}),te()}get mirror_webcam(){return this.$$.ctx[3]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),te()}get include_audio(){return this.$$.ctx[23]}set include_audio(e){this.$$set({include_audio:e}),te()}get webcam_constraints(){return this.$$.ctx[24]}set webcam_constraints(e){this.$$set({webcam_constraints:e}),te()}get i18n(){return this.$$.ctx[4]}set i18n(e){this.$$set({i18n:e}),te()}get upload(){return this.$$.ctx[25]}set upload(e){this.$$set({upload:e}),te()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),te()}get click_outside(){return ut}}const{SvelteComponent:rl,add_flush_callback:Te,append:Le,attr:Ae,bind:Me,binding_callbacks:Ie,bubble:Be,check_outros:We,create_component:fe,create_slot:al,destroy_component:ce,detach:ye,element:st,empty:Ct,flush:P,get_all_dirty_from_scope:ol,get_slot_changes:ul,group_outros:Pe,init:_l,insert:Ee,listen:rt,mount_component:me,run_all:fl,safe_not_equal:cl,set_style:bt,space:qe,toggle_class:Je,transition_in:N,transition_out:j,update_slot_base:ml}=window.__gradio__svelte__internal,{createEventDispatcher:dl,tick:Oe}=window.__gradio__svelte__internal;function pt(l){let e,t,n,i=l[19]&&wt(l);return t=new tn({props:{Icon:nn,label:"Remove Image"}}),t.$on("click",l[28]),{c(){i&&i.c(),e=qe(),fe(t.$$.fragment)},m(o,s){i&&i.m(o,s),Ee(o,e,s),me(t,o,s),n=!0},p(o,s){o[19]?i?(i.p(o,s),s[0]&524288&&N(i,1)):(i=wt(o),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(Pe(),j(i,1,1,()=>{i=null}),We())},i(o){n||(N(i),N(t.$$.fragment,o),n=!0)},o(o){j(i),j(t.$$.fragment,o),n=!1},d(o){o&&ye(e),i&&i.d(o),ce(t,o)}}}function wt(l){let e,t;return e=new ln({props:{fullscreen:l[20]}}),e.$on("fullscreen",l[35]),{c(){fe(e.$$.fragment)},m(n,i){me(e,n,i),t=!0},p(n,i){const o={};i[0]&1048576&&(o.fullscreen=n[20]),e.$set(o)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function gl(l){let e,t,n=l[3]?.url&&!l[21]&&pt(l);return{c(){n&&n.c(),e=Ct()},m(i,o){n&&n.m(i,o),Ee(i,e,o),t=!0},p(i,o){i[3]?.url&&!i[21]?n?(n.p(i,o),o[0]&2097160&&N(n,1)):(n=pt(i),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(Pe(),j(n,1,1,()=>{n=null}),We())},i(i){t||(N(n),t=!0)},o(i){j(n),t=!1},d(i){i&&ye(e),n&&n.d(i)}}}function vt(l){let e;const t=l[34].default,n=al(t,l,l[50],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o[1]&524288)&&ml(n,t,i,i[50],e?ul(t,i[50],o,null):ol(i[50]),null)},i(i){e||(N(n,i),e=!0)},o(i){j(n,i),e=!1},d(i){n&&n.d(i)}}}function hl(l){let e,t,n=l[3]===null&&vt(l);return{c(){n&&n.c(),e=Ct()},m(i,o){n&&n.m(i,o),Ee(i,e,o),t=!0},p(i,o){i[3]===null?n?(n.p(i,o),o[0]&8&&N(n,1)):(n=vt(i),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(Pe(),j(n,1,1,()=>{n=null}),We())},i(i){t||(N(n),t=!0)},o(i){j(n),t=!1},d(i){i&&ye(e),n&&n.d(i)}}}function bl(l){let e,t,n,i,o;return t=new cn({props:{src:l[3].url,alt:l[3].alt_text}}),{c(){e=st("div"),fe(t.$$.fragment),Ae(e,"class","image-frame svelte-1hdlew6"),Je(e,"selectable",l[12])},m(s,a){Ee(s,e,a),me(t,e,null),n=!0,i||(o=rt(e,"click",l[30]),i=!0)},p(s,a){const r={};a[0]&8&&(r.src=s[3].url),a[0]&8&&(r.alt=s[3].alt_text),t.$set(r),(!n||a[0]&4096)&&Je(e,"selectable",s[12])},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){j(t.$$.fragment,s),n=!1},d(s){s&&ye(e),ce(t),i=!1,o()}}}function pl(l){let e,t,n,i;function o(r){l[40](r)}function s(r){l[41](r)}let a={root:l[13],value:l[3],mirror_webcam:l[11].mirror,stream_every:l[18],streaming:l[10],mode:"image",include_audio:!1,i18n:l[14],upload:l[16],webcam_constraints:l[11].constraints};return l[5]!==void 0&&(a.modify_stream=l[5]),l[6]!==void 0&&(a.set_time_limit=l[6]),e=new sl({props:a}),Ie.push(()=>Me(e,"modify_stream",o)),Ie.push(()=>Me(e,"set_time_limit",s)),e.$on("capture",l[42]),e.$on("stream",l[43]),e.$on("error",l[44]),e.$on("drag",l[45]),e.$on("upload",l[46]),e.$on("close_stream",l[47]),{c(){fe(e.$$.fragment)},m(r,f){me(e,r,f),i=!0},p(r,f){const c={};f[0]&8192&&(c.root=r[13]),f[0]&8&&(c.value=r[3]),f[0]&2048&&(c.mirror_webcam=r[11].mirror),f[0]&262144&&(c.stream_every=r[18]),f[0]&1024&&(c.streaming=r[10]),f[0]&16384&&(c.i18n=r[14]),f[0]&65536&&(c.upload=r[16]),f[0]&2048&&(c.webcam_constraints=r[11].constraints),!t&&f[0]&32&&(t=!0,c.modify_stream=r[5],Te(()=>t=!1)),!n&&f[0]&64&&(n=!0,c.set_time_limit=r[6],Te(()=>n=!1)),e.$set(c)},i(r){i||(N(e.$$.fragment,r),i=!0)},o(r){j(e.$$.fragment,r),i=!1},d(r){ce(e,r)}}}function wl(l){let e,t;return e=new fn({props:{root:l[13],upload_id:l[24],stream_handler:l[17],files:l[23]}}),{c(){fe(e.$$.fragment)},m(n,i){me(e,n,i),t=!0},p(n,i){const o={};i[0]&8192&&(o.root=n[13]),i[0]&16777216&&(o.upload_id=n[24]),i[0]&131072&&(o.stream_handler=n[17]),i[0]&8388608&&(o.files=n[23]),e.$set(o)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function kt(l){let e,t,n;function i(s){l[48](s)}let o={sources:l[9],handle_clear:l[27],handle_select:l[31]};return l[1]!==void 0&&(o.active_source=l[1]),e=new en({props:o}),Ie.push(()=>Me(e,"active_source",i)),{c(){fe(e.$$.fragment)},m(s,a){me(e,s,a),n=!0},p(s,a){const r={};a[0]&512&&(r.sources=s[9]),!t&&a[0]&2&&(t=!0,r.active_source=s[1],Te(()=>t=!1)),e.$set(r)},i(s){n||(N(e.$$.fragment,s),n=!0)},o(s){j(e.$$.fragment,s),n=!1},d(s){ce(e,s)}}}function vl(l){let e,t,n,i,o,s,a,r,f,c,d,v,D,M=l[9].length>1||l[9].includes("clipboard"),h,k,z;e=new $t({props:{show_label:l[8],Icon:It,label:l[7]||"Image"}}),i=new xt({props:{$$slots:{default:[gl]},$$scope:{ctx:l}}});function S(m){l[37](m)}function q(m){l[38](m)}let g={hidden:l[3]!==null||l[1]==="webcam",filetype:l[1]==="clipboard"?"clipboard":"image/*",root:l[13],max_file_size:l[15],disable_click:!l[9].includes("upload")||l[3]!==null,upload:l[16],stream_handler:l[17],aria_label:l[14]("image.drop_to_upload"),$$slots:{default:[hl]},$$scope:{ctx:l}};l[0]!==void 0&&(g.uploading=l[0]),l[2]!==void 0&&(g.dragging=l[2]),a=new _n({props:g}),l[36](a),Ie.push(()=>Me(a,"uploading",S)),Ie.push(()=>Me(a,"dragging",q)),a.$on("load",l[26]),a.$on("error",l[39]);const p=[wl,pl,bl],B=[];function I(m,w){return m[1]==="webcam"&&!m[10]&&m[4]?0:m[1]==="webcam"&&(m[10]||!m[10]&&!m[3])?1:m[3]!==null&&!m[10]?2:-1}~(d=I(l))&&(v=B[d]=p[d](l));let y=M&&kt(l);return{c(){fe(e.$$.fragment),t=qe(),n=st("div"),fe(i.$$.fragment),o=qe(),s=st("div"),fe(a.$$.fragment),c=qe(),v&&v.c(),D=qe(),y&&y.c(),Ae(s,"class","upload-container svelte-1hdlew6"),Je(s,"reduced-height",l[9].length>1),bt(s,"width",l[3]?"auto":"100%"),Ae(n,"data-testid","image"),Ae(n,"class","image-container svelte-1hdlew6")},m(m,w){me(e,m,w),Ee(m,t,w),Ee(m,n,w),me(i,n,null),Le(n,o),Le(n,s),me(a,s,null),Le(s,c),~d&&B[d].m(s,null),Le(n,D),y&&y.m(n,null),l[49](n),h=!0,k||(z=[rt(s,"dragover",l[32]),rt(s,"drop",l[33])],k=!0)},p(m,w){const Y={};w[0]&256&&(Y.show_label=m[8]),w[0]&128&&(Y.label=m[7]||"Image"),e.$set(Y);const L={};w[0]&3670024|w[1]&524288&&(L.$$scope={dirty:w,ctx:m}),i.$set(L);const U={};w[0]&10&&(U.hidden=m[3]!==null||m[1]==="webcam"),w[0]&2&&(U.filetype=m[1]==="clipboard"?"clipboard":"image/*"),w[0]&8192&&(U.root=m[13]),w[0]&32768&&(U.max_file_size=m[15]),w[0]&520&&(U.disable_click=!m[9].includes("upload")||m[3]!==null),w[0]&65536&&(U.upload=m[16]),w[0]&131072&&(U.stream_handler=m[17]),w[0]&16384&&(U.aria_label=m[14]("image.drop_to_upload")),w[0]&8|w[1]&524288&&(U.$$scope={dirty:w,ctx:m}),!r&&w[0]&1&&(r=!0,U.uploading=m[0],Te(()=>r=!1)),!f&&w[0]&4&&(f=!0,U.dragging=m[2],Te(()=>f=!1)),a.$set(U);let J=d;d=I(m),d===J?~d&&B[d].p(m,w):(v&&(Pe(),j(B[J],1,1,()=>{B[J]=null}),We()),~d?(v=B[d],v?v.p(m,w):(v=B[d]=p[d](m),v.c()),N(v,1),v.m(s,null)):v=null),(!h||w[0]&512)&&Je(s,"reduced-height",m[9].length>1),w[0]&8&&bt(s,"width",m[3]?"auto":"100%"),w[0]&512&&(M=m[9].length>1||m[9].includes("clipboard")),M?y?(y.p(m,w),w[0]&512&&N(y,1)):(y=kt(m),y.c(),N(y,1),y.m(n,null)):y&&(Pe(),j(y,1,1,()=>{y=null}),We())},i(m){h||(N(e.$$.fragment,m),N(i.$$.fragment,m),N(a.$$.fragment,m),N(v),N(y),h=!0)},o(m){j(e.$$.fragment,m),j(i.$$.fragment,m),j(a.$$.fragment,m),j(v),j(y),h=!1},d(m){m&&(ye(t),ye(n)),ce(e,m),ce(i),l[36](null),ce(a),~d&&B[d].d(),y&&y.d(),l[49](null),k=!1,fl(z)}}}function kl(l,e,t){let n,{$$slots:i={},$$scope:o}=e,{value:s=null}=e,{label:a=void 0}=e,{show_label:r}=e,{sources:f=["upload","clipboard","webcam"]}=e,{streaming:c=!1}=e,{pending:d=!1}=e,{webcam_options:v}=e,{selectable:D=!1}=e,{root:M}=e,{i18n:h}=e,{max_file_size:k=null}=e,{upload:z}=e,{stream_handler:S}=e,{stream_every:q}=e,{modify_stream:g}=e,{set_time_limit:p}=e,{show_fullscreen_button:B=!0}=e,I,{uploading:y=!1}=e,{active_source:m=null}=e,{fullscreen:w=!1}=e,Y=[],L;async function U({detail:_}){if(!c){if(_.path?.toLowerCase().endsWith(".svg")&&_.url){const ne=await(await fetch(_.url)).text();t(3,s={..._,url:`data:image/svg+xml,${encodeURIComponent(ne)}`})}else t(3,s=_);await Oe(),K("upload")}}function J(){t(3,s=null),K("clear"),K("change",null)}function De(_){J(),_.stopPropagation()}async function x(_,oe){if(oe==="stream"){K("stream",{value:{url:_},is_value_data:!0});return}t(24,L=Math.random().toString(36).substring(2,15));const ne=new File([_],`image.${c?"jpeg":"png"}`);t(23,Y=[new un({path:ne.name,orig_name:ne.name,blob:ne,size:ne.size,mime_type:ne.type,is_stream:!1})]),t(4,d=!0);const tt=await I.load_files([ne],L);(oe==="change"||oe==="upload")&&(t(3,s=tt?.[0]||null),await Oe(),K("change")),t(4,d=!1)}const K=dl();let{dragging:H=!1}=e;function Z(_){let oe=Kt(_);oe&&K("select",{index:oe,value:null})}async function de(_){switch(_){case"clipboard":I.paste_clipboard();break}}let T;function ee(_){_.preventDefault(),_.stopPropagation(),_.dataTransfer&&(_.dataTransfer.dropEffect="copy"),t(2,H=!0)}async function ve(_){_.preventDefault(),_.stopPropagation(),t(2,H=!1),s&&(J(),await Oe()),t(1,m="upload"),await Oe(),I.load_files_from_drop(_)}function ae(_){Be.call(this,l,_)}function b(_){Ie[_?"unshift":"push"](()=>{I=_,t(22,I)})}function W(_){y=_,t(0,y)}function $(_){H=_,t(2,H)}function ke(_){Be.call(this,l,_)}function ze(_){g=_,t(5,g)}function Ce(_){p=_,t(6,p)}const Ge=_=>x(_.detail,"change"),Ve=_=>x(_.detail,"stream");function Xe(_){Be.call(this,l,_)}function Ye(_){Be.call(this,l,_)}const Ze=_=>x(_.detail,"upload");function $e(_){Be.call(this,l,_)}function xe(_){m=_,t(1,m),t(9,f)}function et(_){Ie[_?"unshift":"push"](()=>{T=_,t(25,T)})}return l.$$set=_=>{"value"in _&&t(3,s=_.value),"label"in _&&t(7,a=_.label),"show_label"in _&&t(8,r=_.show_label),"sources"in _&&t(9,f=_.sources),"streaming"in _&&t(10,c=_.streaming),"pending"in _&&t(4,d=_.pending),"webcam_options"in _&&t(11,v=_.webcam_options),"selectable"in _&&t(12,D=_.selectable),"root"in _&&t(13,M=_.root),"i18n"in _&&t(14,h=_.i18n),"max_file_size"in _&&t(15,k=_.max_file_size),"upload"in _&&t(16,z=_.upload),"stream_handler"in _&&t(17,S=_.stream_handler),"stream_every"in _&&t(18,q=_.stream_every),"modify_stream"in _&&t(5,g=_.modify_stream),"set_time_limit"in _&&t(6,p=_.set_time_limit),"show_fullscreen_button"in _&&t(19,B=_.show_fullscreen_button),"uploading"in _&&t(0,y=_.uploading),"active_source"in _&&t(1,m=_.active_source),"fullscreen"in _&&t(20,w=_.fullscreen),"dragging"in _&&t(2,H=_.dragging),"$$scope"in _&&t(50,o=_.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&514&&!m&&f&&t(1,m=f[0]),l.$$.dirty[0]&1026&&t(21,n=c&&m==="webcam"),l.$$.dirty[0]&2097153&&y&&!n&&t(3,s=null),l.$$.dirty[0]&4&&K("drag",H)},[y,m,H,s,d,g,p,a,r,f,c,v,D,M,h,k,z,S,q,B,w,n,I,Y,L,T,U,J,De,x,Z,de,ee,ve,i,ae,b,W,$,ke,ze,Ce,Ge,Ve,Xe,Ye,Ze,$e,xe,et,o]}class zl extends rl{constructor(e){super(),_l(this,e,kl,vl,cl,{value:3,label:7,show_label:8,sources:9,streaming:10,pending:4,webcam_options:11,selectable:12,root:13,i18n:14,max_file_size:15,upload:16,stream_handler:17,stream_every:18,modify_stream:5,set_time_limit:6,show_fullscreen_button:19,uploading:0,active_source:1,fullscreen:20,dragging:2},null,[-1,-1])}get value(){return this.$$.ctx[3]}set value(e){this.$$set({value:e}),P()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),P()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),P()}get sources(){return this.$$.ctx[9]}set sources(e){this.$$set({sources:e}),P()}get streaming(){return this.$$.ctx[10]}set streaming(e){this.$$set({streaming:e}),P()}get pending(){return this.$$.ctx[4]}set pending(e){this.$$set({pending:e}),P()}get webcam_options(){return this.$$.ctx[11]}set webcam_options(e){this.$$set({webcam_options:e}),P()}get selectable(){return this.$$.ctx[12]}set selectable(e){this.$$set({selectable:e}),P()}get root(){return this.$$.ctx[13]}set root(e){this.$$set({root:e}),P()}get i18n(){return this.$$.ctx[14]}set i18n(e){this.$$set({i18n:e}),P()}get max_file_size(){return this.$$.ctx[15]}set max_file_size(e){this.$$set({max_file_size:e}),P()}get upload(){return this.$$.ctx[16]}set upload(e){this.$$set({upload:e}),P()}get stream_handler(){return this.$$.ctx[17]}set stream_handler(e){this.$$set({stream_handler:e}),P()}get stream_every(){return this.$$.ctx[18]}set stream_every(e){this.$$set({stream_every:e}),P()}get modify_stream(){return this.$$.ctx[5]}set modify_stream(e){this.$$set({modify_stream:e}),P()}get set_time_limit(){return this.$$.ctx[6]}set set_time_limit(e){this.$$set({set_time_limit:e}),P()}get show_fullscreen_button(){return this.$$.ctx[19]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),P()}get uploading(){return this.$$.ctx[0]}set uploading(e){this.$$set({uploading:e}),P()}get active_source(){return this.$$.ctx[1]}set active_source(e){this.$$set({active_source:e}),P()}get fullscreen(){return this.$$.ctx[20]}set fullscreen(e){this.$$set({fullscreen:e}),P()}get dragging(){return this.$$.ctx[2]}set dragging(e){this.$$set({dragging:e}),P()}}const{SvelteComponent:Il,add_flush_callback:ge,assign:Bt,bind:he,binding_callbacks:_e,check_outros:qt,create_component:ie,destroy_component:se,detach:Ke,empty:Nt,flush:E,get_spread_object:Ut,get_spread_update:Tt,group_outros:Mt,init:Dl,insert:Qe,mount_component:re,safe_not_equal:Sl,space:Wt,transition_in:V,transition_out:X}=window.__gradio__svelte__internal,{afterUpdate:yl}=window.__gradio__svelte__internal;function El(l){let e,t,n;function i(s){l[63](s)}let o={visible:l[5],variant:l[0]===null?"dashed":"solid",border_mode:l[29]?"focus":"base",padding:!1,elem_id:l[3],elem_classes:l[4],height:l[10]||void 0,width:l[11],allow_overflow:!1,container:l[14],scale:l[15],min_width:l[16],$$slots:{default:[Ml]},$$scope:{ctx:l}};return l[28]!==void 0&&(o.fullscreen=l[28]),e=new Dt({props:o}),_e.push(()=>he(e,"fullscreen",i)),e.$on("dragenter",l[32]),e.$on("dragleave",l[32]),e.$on("dragover",l[32]),e.$on("drop",l[33]),{c(){ie(e.$$.fragment)},m(s,a){re(e,s,a),n=!0},p(s,a){const r={};a[0]&32&&(r.visible=s[5]),a[0]&1&&(r.variant=s[0]===null?"dashed":"solid"),a[0]&536870912&&(r.border_mode=s[29]?"focus":"base"),a[0]&8&&(r.elem_id=s[3]),a[0]&16&&(r.elem_classes=s[4]),a[0]&1024&&(r.height=s[10]||void 0),a[0]&2048&&(r.width=s[11]),a[0]&16384&&(r.container=s[14]),a[0]&32768&&(r.scale=s[15]),a[0]&65536&&(r.min_width=s[16]),a[0]&2138321607|a[1]&1|a[2]&8&&(r.$$scope={dirty:a,ctx:s}),!t&&a[0]&268435456&&(t=!0,r.fullscreen=s[28],ge(()=>t=!1)),e.$set(r)},i(s){n||(V(e.$$.fragment,s),n=!0)},o(s){X(e.$$.fragment,s),n=!1},d(s){se(e,s)}}}function Cl(l){let e,t,n;function i(s){l[43](s)}let o={visible:l[5],variant:"solid",border_mode:l[29]?"focus":"base",padding:!1,elem_id:l[3],elem_classes:l[4],height:l[10]||void 0,width:l[11],allow_overflow:!1,container:l[14],scale:l[15],min_width:l[16],$$slots:{default:[Wl]},$$scope:{ctx:l}};return l[28]!==void 0&&(o.fullscreen=l[28]),e=new Dt({props:o}),_e.push(()=>he(e,"fullscreen",i)),{c(){ie(e.$$.fragment)},m(s,a){re(e,s,a),n=!0},p(s,a){const r={};a[0]&32&&(r.visible=s[5]),a[0]&536870912&&(r.border_mode=s[29]?"focus":"base"),a[0]&8&&(r.elem_id=s[3]),a[0]&16&&(r.elem_classes=s[4]),a[0]&1024&&(r.height=s[10]||void 0),a[0]&2048&&(r.width=s[11]),a[0]&16384&&(r.container=s[14]),a[0]&32768&&(r.scale=s[15]),a[0]&65536&&(r.min_width=s[16]),a[0]&310518213|a[2]&8&&(r.$$scope={dirty:a,ctx:s}),!t&&a[0]&268435456&&(t=!0,r.fullscreen=s[28],ge(()=>t=!1)),e.$set(r)},i(s){n||(V(e.$$.fragment,s),n=!0)},o(s){X(e.$$.fragment,s),n=!1},d(s){se(e,s)}}}function Bl(l){let e,t;return e=new sn({props:{unpadded_box:!0,size:"large",$$slots:{default:[Ul]},$$scope:{ctx:l}}}),{c(){ie(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,i){const o={};i[2]&8&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function ql(l){let e,t;return e=new St({props:{i18n:l[25].i18n,type:"clipboard",mode:"short"}}),{c(){ie(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,i){const o={};i[0]&33554432&&(o.i18n=n[25].i18n),e.$set(o)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Nl(l){let e,t;return e=new St({props:{i18n:l[25].i18n,type:"image",placeholder:l[22]}}),{c(){ie(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,i){const o={};i[0]&33554432&&(o.i18n=n[25].i18n),i[0]&4194304&&(o.placeholder=n[22]),e.$set(o)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Ul(l){let e,t;return e=new It({}),{c(){ie(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Tl(l){let e,t,n,i;const o=[Nl,ql,Bl],s=[];function a(r,f){return r[30]==="upload"||!r[30]?0:r[30]==="clipboard"?1:2}return e=a(l),t=s[e]=o[e](l),{c(){t.c(),n=Nt()},m(r,f){s[e].m(r,f),Qe(r,n,f),i=!0},p(r,f){let c=e;e=a(r),e===c?s[e].p(r,f):(Mt(),X(s[c],1,1,()=>{s[c]=null}),qt(),t=s[e],t?t.p(r,f):(t=s[e]=o[e](r),t.c()),V(t,1),t.m(n.parentNode,n))},i(r){i||(V(t),i=!0)},o(r){X(t),i=!1},d(r){r&&Ke(n),s[e].d(r)}}}function Ml(l){let e,t,n,i,o,s,a,r,f,c;const d=[{autoscroll:l[25].autoscroll},{i18n:l[25].i18n},l[2]];let v={};for(let g=0;g<d.length;g+=1)v=Bt(v,d[g]);e=new yt({props:v}),e.$on("clear_status",l[44]);function D(g){l[47](g)}function M(g){l[48](g)}function h(g){l[49](g)}function k(g){l[50](g)}function z(g){l[51](g)}function S(g){l[52](g)}let q={selectable:l[13],root:l[9],sources:l[18],fullscreen:l[28],label:l[6],show_label:l[7],pending:l[21],streaming:l[20],webcam_options:l[24],stream_every:l[12],max_file_size:l[25].max_file_size,i18n:l[25].i18n,upload:l[45],stream_handler:l[25].client?.stream,$$slots:{default:[Tl]},$$scope:{ctx:l}};return l[26]!==void 0&&(q.uploading=l[26]),l[30]!==void 0&&(q.active_source=l[30]),l[0]!==void 0&&(q.value=l[0]),l[29]!==void 0&&(q.dragging=l[29]),l[27]!==void 0&&(q.modify_stream=l[27]),l[1]!==void 0&&(q.set_time_limit=l[1]),n=new zl({props:q}),l[46](n),_e.push(()=>he(n,"uploading",D)),_e.push(()=>he(n,"active_source",M)),_e.push(()=>he(n,"value",h)),_e.push(()=>he(n,"dragging",k)),_e.push(()=>he(n,"modify_stream",z)),_e.push(()=>he(n,"set_time_limit",S)),n.$on("edit",l[53]),n.$on("clear",l[54]),n.$on("stream",l[55]),n.$on("drag",l[56]),n.$on("upload",l[57]),n.$on("select",l[58]),n.$on("share",l[59]),n.$on("error",l[60]),n.$on("close_stream",l[61]),n.$on("fullscreen",l[62]),{c(){ie(e.$$.fragment),t=Wt(),ie(n.$$.fragment)},m(g,p){re(e,g,p),Qe(g,t,p),re(n,g,p),c=!0},p(g,p){const B=p[0]&33554436?Tt(d,[p[0]&33554432&&{autoscroll:g[25].autoscroll},p[0]&33554432&&{i18n:g[25].i18n},p[0]&4&&Ut(g[2])]):{};e.$set(B);const I={};p[0]&8192&&(I.selectable=g[13]),p[0]&512&&(I.root=g[9]),p[0]&262144&&(I.sources=g[18]),p[0]&268435456&&(I.fullscreen=g[28]),p[0]&64&&(I.label=g[6]),p[0]&128&&(I.show_label=g[7]),p[0]&2097152&&(I.pending=g[21]),p[0]&1048576&&(I.streaming=g[20]),p[0]&16777216&&(I.webcam_options=g[24]),p[0]&4096&&(I.stream_every=g[12]),p[0]&33554432&&(I.max_file_size=g[25].max_file_size),p[0]&33554432&&(I.i18n=g[25].i18n),p[0]&33554432&&(I.upload=g[45]),p[0]&33554432&&(I.stream_handler=g[25].client?.stream),p[0]&1111490560|p[2]&8&&(I.$$scope={dirty:p,ctx:g}),!i&&p[0]&67108864&&(i=!0,I.uploading=g[26],ge(()=>i=!1)),!o&&p[0]&1073741824&&(o=!0,I.active_source=g[30],ge(()=>o=!1)),!s&&p[0]&1&&(s=!0,I.value=g[0],ge(()=>s=!1)),!a&&p[0]&536870912&&(a=!0,I.dragging=g[29],ge(()=>a=!1)),!r&&p[0]&134217728&&(r=!0,I.modify_stream=g[27],ge(()=>r=!1)),!f&&p[0]&2&&(f=!0,I.set_time_limit=g[1],ge(()=>f=!1)),n.$set(I)},i(g){c||(V(e.$$.fragment,g),V(n.$$.fragment,g),c=!0)},o(g){X(e.$$.fragment,g),X(n.$$.fragment,g),c=!1},d(g){g&&Ke(t),se(e,g),l[46](null),se(n,g)}}}function Wl(l){let e,t,n,i;const o=[{autoscroll:l[25].autoscroll},{i18n:l[25].i18n},l[2]];let s={};for(let a=0;a<o.length;a+=1)s=Bt(s,o[a]);return e=new yt({props:s}),n=new Qt({props:{fullscreen:l[28],value:l[0],label:l[6],show_label:l[7],show_download_button:l[8],selectable:l[13],show_share_button:l[17],i18n:l[25].i18n,show_fullscreen_button:l[23]}}),n.$on("select",l[39]),n.$on("share",l[40]),n.$on("error",l[41]),n.$on("fullscreen",l[42]),{c(){ie(e.$$.fragment),t=Wt(),ie(n.$$.fragment)},m(a,r){re(e,a,r),Qe(a,t,r),re(n,a,r),i=!0},p(a,r){const f=r[0]&33554436?Tt(o,[r[0]&33554432&&{autoscroll:a[25].autoscroll},r[0]&33554432&&{i18n:a[25].i18n},r[0]&4&&Ut(a[2])]):{};e.$set(f);const c={};r[0]&268435456&&(c.fullscreen=a[28]),r[0]&1&&(c.value=a[0]),r[0]&64&&(c.label=a[6]),r[0]&128&&(c.show_label=a[7]),r[0]&256&&(c.show_download_button=a[8]),r[0]&8192&&(c.selectable=a[13]),r[0]&131072&&(c.show_share_button=a[17]),r[0]&33554432&&(c.i18n=a[25].i18n),r[0]&8388608&&(c.show_fullscreen_button=a[23]),n.$set(c)},i(a){i||(V(e.$$.fragment,a),V(n.$$.fragment,a),i=!0)},o(a){X(e.$$.fragment,a),X(n.$$.fragment,a),i=!1},d(a){a&&Ke(t),se(e,a),se(n,a)}}}function Pl(l){let e,t,n,i;const o=[Cl,El],s=[];function a(r,f){return r[19]?1:0}return e=a(l),t=s[e]=o[e](l),{c(){t.c(),n=Nt()},m(r,f){s[e].m(r,f),Qe(r,n,f),i=!0},p(r,f){let c=e;e=a(r),e===c?s[e].p(r,f):(Mt(),X(s[c],1,1,()=>{s[c]=null}),qt(),t=s[e],t?t.p(r,f):(t=s[e]=o[e](r),t.c()),V(t,1),t.m(n.parentNode,n))},i(r){i||(V(t),i=!0)},o(r){X(t),i=!1},d(r){r&&Ke(n),s[e].d(r)}}}function Rl(l,e,t){let n="closed",i=()=>{};function o(u){n=u,i(u)}const s=()=>n;let{set_time_limit:a}=e,{value_is_output:r=!1}=e,{elem_id:f=""}=e,{elem_classes:c=[]}=e,{visible:d=!0}=e,{value:v=null}=e,D=null,{label:M}=e,{show_label:h}=e,{show_download_button:k}=e,{root:z}=e,{height:S}=e,{width:q}=e,{stream_every:g}=e,{_selectable:p=!1}=e,{container:B=!0}=e,{scale:I=null}=e,{min_width:y=void 0}=e,{loading_status:m}=e,{show_share_button:w=!1}=e,{sources:Y=["upload","clipboard","webcam"]}=e,{interactive:L}=e,{streaming:U}=e,{pending:J}=e,{placeholder:De=void 0}=e,{show_fullscreen_button:x}=e,{input_ready:K}=e,{webcam_options:H}=e,Z=!1,de=!1,{gradio:T}=e;yl(()=>{t(34,r=!1)});let ee,ve=null,ae;const b=u=>{const ue=u;ue.preventDefault(),ue.stopPropagation(),ue.type==="dragenter"||ue.type==="dragover"?t(29,ee=!0):ue.type==="dragleave"&&t(29,ee=!1)},W=u=>{if(L){const ue=u;ue.preventDefault(),ue.stopPropagation(),t(29,ee=!1),ae&&ae.loadFilesFromDrop(ue)}},$=({detail:u})=>T.dispatch("select",u),ke=({detail:u})=>T.dispatch("share",u),ze=({detail:u})=>T.dispatch("error",u),Ce=({detail:u})=>{t(28,Z=u)};function Ge(u){Z=u,t(28,Z)}const Ve=()=>T.dispatch("clear_status",m),Xe=(...u)=>T.client.upload(...u);function Ye(u){_e[u?"unshift":"push"](()=>{ae=u,t(31,ae)})}function Ze(u){de=u,t(26,de)}function $e(u){ve=u,t(30,ve)}function xe(u){v=u,t(0,v)}function et(u){ee=u,t(29,ee)}function _(u){i=u,t(27,i)}function oe(u){a=u,t(1,a)}const ne=()=>T.dispatch("edit"),tt=()=>{t(28,Z=!1),T.dispatch("clear")},Pt=({detail:u})=>T.dispatch("stream",u),Rt=({detail:u})=>t(29,ee=u),Ft=()=>T.dispatch("upload"),jt=({detail:u})=>T.dispatch("select",u),Lt=({detail:u})=>T.dispatch("share",u),Ot=({detail:u})=>{t(2,m=m||{}),t(2,m.status="error",m),T.dispatch("error",u)},At=()=>{T.dispatch("close_stream","stream")},Ht=({detail:u})=>{t(28,Z=u)};function Jt(u){Z=u,t(28,Z)}return l.$$set=u=>{"set_time_limit"in u&&t(1,a=u.set_time_limit),"value_is_output"in u&&t(34,r=u.value_is_output),"elem_id"in u&&t(3,f=u.elem_id),"elem_classes"in u&&t(4,c=u.elem_classes),"visible"in u&&t(5,d=u.visible),"value"in u&&t(0,v=u.value),"label"in u&&t(6,M=u.label),"show_label"in u&&t(7,h=u.show_label),"show_download_button"in u&&t(8,k=u.show_download_button),"root"in u&&t(9,z=u.root),"height"in u&&t(10,S=u.height),"width"in u&&t(11,q=u.width),"stream_every"in u&&t(12,g=u.stream_every),"_selectable"in u&&t(13,p=u._selectable),"container"in u&&t(14,B=u.container),"scale"in u&&t(15,I=u.scale),"min_width"in u&&t(16,y=u.min_width),"loading_status"in u&&t(2,m=u.loading_status),"show_share_button"in u&&t(17,w=u.show_share_button),"sources"in u&&t(18,Y=u.sources),"interactive"in u&&t(19,L=u.interactive),"streaming"in u&&t(20,U=u.streaming),"pending"in u&&t(21,J=u.pending),"placeholder"in u&&t(22,De=u.placeholder),"show_fullscreen_button"in u&&t(23,x=u.show_fullscreen_button),"input_ready"in u&&t(35,K=u.input_ready),"webcam_options"in u&&t(24,H=u.webcam_options),"gradio"in u&&t(25,T=u.gradio)},l.$$.update=()=>{l.$$.dirty[0]&67108864&&t(35,K=!de),l.$$.dirty[0]&33554433|l.$$.dirty[1]&136&&JSON.stringify(v)!==JSON.stringify(D)&&(t(38,D=v),T.dispatch("change"),r||T.dispatch("input"))},[v,a,m,f,c,d,M,h,k,z,S,q,g,p,B,I,y,w,Y,L,U,J,De,x,H,T,de,i,Z,ee,ve,ae,b,W,r,K,o,s,D,$,ke,ze,Ce,Ge,Ve,Xe,Ye,Ze,$e,xe,et,_,oe,ne,tt,Pt,Rt,Ft,jt,Lt,Ot,At,Ht,Jt]}class Vl extends Il{constructor(e){super(),Dl(this,e,Rl,Pl,Sl,{modify_stream_state:36,get_stream_state:37,set_time_limit:1,value_is_output:34,elem_id:3,elem_classes:4,visible:5,value:0,label:6,show_label:7,show_download_button:8,root:9,height:10,width:11,stream_every:12,_selectable:13,container:14,scale:15,min_width:16,loading_status:2,show_share_button:17,sources:18,interactive:19,streaming:20,pending:21,placeholder:22,show_fullscreen_button:23,input_ready:35,webcam_options:24,gradio:25},null,[-1,-1,-1])}get modify_stream_state(){return this.$$.ctx[36]}get get_stream_state(){return this.$$.ctx[37]}get set_time_limit(){return this.$$.ctx[1]}set set_time_limit(e){this.$$set({set_time_limit:e}),E()}get value_is_output(){return this.$$.ctx[34]}set value_is_output(e){this.$$set({value_is_output:e}),E()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),E()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),E()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),E()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),E()}get label(){return this.$$.ctx[6]}set label(e){this.$$set({label:e}),E()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),E()}get show_download_button(){return this.$$.ctx[8]}set show_download_button(e){this.$$set({show_download_button:e}),E()}get root(){return this.$$.ctx[9]}set root(e){this.$$set({root:e}),E()}get height(){return this.$$.ctx[10]}set height(e){this.$$set({height:e}),E()}get width(){return this.$$.ctx[11]}set width(e){this.$$set({width:e}),E()}get stream_every(){return this.$$.ctx[12]}set stream_every(e){this.$$set({stream_every:e}),E()}get _selectable(){return this.$$.ctx[13]}set _selectable(e){this.$$set({_selectable:e}),E()}get container(){return this.$$.ctx[14]}set container(e){this.$$set({container:e}),E()}get scale(){return this.$$.ctx[15]}set scale(e){this.$$set({scale:e}),E()}get min_width(){return this.$$.ctx[16]}set min_width(e){this.$$set({min_width:e}),E()}get loading_status(){return this.$$.ctx[2]}set loading_status(e){this.$$set({loading_status:e}),E()}get show_share_button(){return this.$$.ctx[17]}set show_share_button(e){this.$$set({show_share_button:e}),E()}get sources(){return this.$$.ctx[18]}set sources(e){this.$$set({sources:e}),E()}get interactive(){return this.$$.ctx[19]}set interactive(e){this.$$set({interactive:e}),E()}get streaming(){return this.$$.ctx[20]}set streaming(e){this.$$set({streaming:e}),E()}get pending(){return this.$$.ctx[21]}set pending(e){this.$$set({pending:e}),E()}get placeholder(){return this.$$.ctx[22]}set placeholder(e){this.$$set({placeholder:e}),E()}get show_fullscreen_button(){return this.$$.ctx[23]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),E()}get input_ready(){return this.$$.ctx[35]}set input_ready(e){this.$$set({input_ready:e}),E()}get webcam_options(){return this.$$.ctx[24]}set webcam_options(e){this.$$set({webcam_options:e}),E()}get gradio(){return this.$$.ctx[25]}set gradio(e){this.$$set({gradio:e}),E()}}export{Zl as BaseExample,cn as BaseImage,zl as BaseImageUploader,Qt as BaseStaticImage,sl as Webcam,Vl as default};
//# sourceMappingURL=Index-CBM-_yxP.js.map
