import"./index-BvFm9VBJ.js";import{C as He}from"./Index-Dum9Q1EU.js";import{BaseMarkdown as Ve}from"./Index-Duw1Ex3_.js";import"./svelte/svelte.js";import"./init-BXnIR-ED.js";import"./FullscreenButton-D7OpqaEU.js";import"./MarkdownCode-DhbjNcA6.js";import"./prism-python-Dt5iPx6n.js";import"./StreamingBar-Bc_J-1Oe.js";import"./Example-Do2HGpgf.js";import"./Example-DCK-h4K5.js";const{SvelteComponent:Le,add_flush_callback:Re,append:_,attr:h,bind:ze,binding_callbacks:x,check_outros:pe,create_component:he,destroy_component:be,destroy_each:ke,detach:B,element:b,ensure_array_like:$,flush:ne,group_outros:ve,init:De,insert:F,listen:D,mount_component:ge,run_all:we,safe_not_equal:Pe,set_data:ee,set_input_value:le,set_style:se,space:S,text:T,toggle_class:P,transition_in:q,transition_out:Q}=window.__gradio__svelte__internal,{onMount:Te,tick:O}=window.__gradio__svelte__internal;function oe(n,e,t){const l=n.slice();return l[35]=e[t],l}function ie(n,e,t){const l=n.slice();return l[38]=e[t],l[40]=t,l}function re(n){let e,t,l=n[7].lines_added>0&&ae(n),o=n[7].lines_removed>0&&ce(n);return{c(){e=b("span"),l&&l.c(),t=S(),o&&o.c(),h(e,"class","diff-stats svelte-mfkb21")},m(s,i){F(s,e,i),l&&l.m(e,null),_(e,t),o&&o.m(e,null)},p(s,i){s[7].lines_added>0?l?l.p(s,i):(l=ae(s),l.c(),l.m(e,t)):l&&(l.d(1),l=null),s[7].lines_removed>0?o?o.p(s,i):(o=ce(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(s){s&&B(e),l&&l.d(),o&&o.d()}}}function ae(n){let e,t,l=n[7].lines_added+"",o;return{c(){e=b("span"),t=T("+"),o=T(l),h(e,"class","added svelte-mfkb21")},m(s,i){F(s,e,i),_(e,t),_(e,o)},p(s,i){i[0]&128&&l!==(l=s[7].lines_added+"")&&ee(o,l)},d(s){s&&B(e)}}}function ce(n){let e,t,l=n[7].lines_removed+"",o;return{c(){e=b("span"),t=T("-"),o=T(l),h(e,"class","removed svelte-mfkb21")},m(s,i){F(s,e,i),_(e,t),_(e,o)},p(s,i){i[0]&128&&l!==(l=s[7].lines_removed+"")&&ee(o,l)},d(s){s&&B(e)}}}function We(n){let e,t,l,o,s,i,a,c,f,d,m;function r(p){n[23](p)}let y={language:"python",lines:10,dark_mode:!1,basic:!0,readonly:!1,placeholder:"Enter your code here...",wrap_lines:!0};n[6]!==void 0&&(y.value=n[6]),l=new He({props:y}),x.push(()=>ze(l,"value",r));function g(p,R){return p[2]?Ze:qe}let H=g(n),V=H(n);return{c(){e=b("div"),t=b("div"),he(l.$$.fragment),s=S(),i=b("button"),V.c(),a=S(),c=b("button"),c.innerHTML=`<span class="button-content svelte-mfkb21">Deploy to
						<svg class="spaces-logo svelte-mfkb21" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" preserveAspectRatio="xMidYMid meet" viewBox="0 0 39 40"><path d="M6.3712 2.04427C3.7183 2.04427 1.56771 4.19486 1.56771 6.84776V18.3546V18.6544V32.7341C1.56771 35.3868 3.71818 37.5377 6.3712 37.5377H17.878H20.7507H32.2575C34.9104 37.5377 37.0612 35.387 37.0612 32.7341V21.6204C37.0612 20.177 36.4252 18.8839 35.4189 18.004C36.4576 16.3895 37.0612 14.4666 37.0612 12.4046C37.0612 6.68274 32.4225 2.04427 26.7007 2.04427C24.6388 2.04427 22.7159 2.64776 21.1014 3.68647C20.2214 2.6802 18.9282 2.04427 17.4849 2.04427H6.3712Z" fill="black" class="stroke-white dark:stroke-white/10" stroke-width="3.07552"></path><path d="M9.56855 23.5001C8.8406 23.5001 8.25047 24.0902 8.25047 24.8182V29.5361C8.25047 30.2641 8.8406 30.8542 9.56855 30.8542H14.2864C15.0144 30.8542 15.6045 30.2641 15.6045 29.5361V24.8182C15.6045 24.0902 15.0143 23.5001 14.2864 23.5001H9.56855Z" fill="#FF3270"></path><path d="M24.3409 23.5001C23.613 23.5001 23.0228 24.0902 23.0228 24.8182V29.5361C23.0228 30.2641 23.613 30.8542 24.3409 30.8542H29.0588C29.7868 30.8542 30.3769 30.2641 30.3769 29.5361V24.8182C30.3769 24.0902 29.7868 23.5001 29.0588 23.5001H24.3409Z" fill="#861FFF"></path><path d="M9.56855 8.72815C8.8406 8.72815 8.25047 9.31827 8.25047 10.0462V14.7641C8.25047 15.4921 8.8406 16.0822 9.56855 16.0822H14.2864C15.0144 16.0822 15.6045 15.4921 15.6045 14.7641V10.0462C15.6045 9.31827 15.0143 8.72815 14.2864 8.72815H9.56855Z" fill="#097EFF"></path><path d="M26.6999 8.72815C24.6692 8.72815 23.0228 10.3744 23.0228 12.4052C23.0228 14.4359 24.6692 16.0822 26.6999 16.0822C28.7306 16.0822 30.3769 14.4359 30.3769 12.4052C30.3769 10.3744 28.7306 8.72815 26.6999 8.72815Z" fill="#FFD702"></path></svg> <span style="font-weight: 600;">Spaces</span></span>`,h(t,"class","code-editor-container svelte-mfkb21"),h(i,"class","update-code-button svelte-mfkb21"),P(i,"updating",n[2]),h(c,"class","deploy-to-spaces-button svelte-mfkb21"),h(e,"class","code-content svelte-mfkb21")},m(p,R){F(p,e,R),_(e,t),ge(l,t,null),_(e,s),_(e,i),V.m(i,null),_(e,a),_(e,c),f=!0,d||(m=[D(i,"click",n[14]),D(c,"click",n[24])],d=!0)},p(p,R){const C={};!o&&R[0]&64&&(o=!0,C.value=p[6],Re(()=>o=!1)),l.$set(C),H!==(H=g(p))&&(V.d(1),V=H(p),V&&(V.c(),V.m(i,null))),(!f||R[0]&4)&&P(i,"updating",p[2])},i(p){f||(q(l.$$.fragment,p),f=!0)},o(p){Q(l.$$.fragment,p),f=!1},d(p){p&&B(e),be(l),V.d(),d=!1,we(m)}}}function Ue(n){let e,t,l,o,s=$(n[8]),i=[];for(let d=0;d<s.length;d+=1)i[d]=ue(ie(n,s,d));const a=d=>Q(i[d],1,1,()=>{i[d]=null});let c=n[8].length===0&&fe(),f=n[8].length===0&&me(n);return{c(){e=b("div");for(let d=0;d<i.length;d+=1)i[d].c();t=S(),c&&c.c(),l=S(),f&&f.c(),h(e,"class","message-history svelte-mfkb21")},m(d,m){F(d,e,m);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);_(e,t),c&&c.m(e,null),_(e,l),f&&f.m(e,null),n[22](e),o=!0},p(d,m){if(m[0]&4352){s=$(d[8]);let r;for(r=0;r<s.length;r+=1){const y=ie(d,s,r);i[r]?(i[r].p(y,m),q(i[r],1)):(i[r]=ue(y),i[r].c(),q(i[r],1),i[r].m(e,t))}for(ve(),r=s.length;r<i.length;r+=1)a(r);pe()}d[8].length===0?c||(c=fe(),c.c(),c.m(e,l)):c&&(c.d(1),c=null),d[8].length===0?f?f.p(d,m):(f=me(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(d){if(!o){for(let m=0;m<s.length;m+=1)q(i[m]);o=!0}},o(d){i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)Q(i[m]);o=!1},d(d){d&&B(e),ke(i,d),c&&c.d(),f&&f.d(),n[22](null)}}}function qe(n){let e;return{c(){e=T("Update Code")},m(t,l){F(t,e,l)},d(t){t&&B(e)}}}function Ze(n){let e;return{c(){e=T("Updated!")},m(t,l){F(t,e,l)},d(t){t&&B(e)}}}function de(n){let e,t,l;function o(){return n[20](n[38],n[40])}return{c(){e=b("button"),e.textContent="Undo",h(e,"class","undo-button svelte-mfkb21"),h(e,"title","Undo this change")},m(s,i){F(s,e,i),t||(l=D(e,"click",o),t=!0)},p(s,i){n=s},d(s){s&&B(e),t=!1,l()}}}function ue(n){let e,t,l,o,s,i;o=new Ve({props:{value:n[38].text,latex_delimiters:[],theme_mode:"system"}});let a=!n[38].isBot&&n[38].hash&&!n[38].isPending&&de(n);return{c(){e=b("div"),t=b("div"),l=b("span"),he(o.$$.fragment),s=S(),a&&a.c(),h(l,"class","message-text svelte-mfkb21"),h(t,"class","message-content svelte-mfkb21"),h(e,"class","message-item svelte-mfkb21"),P(e,"bot-message",n[38].isBot),P(e,"user-message",!n[38].isBot)},m(c,f){F(c,e,f),_(e,t),_(t,l),ge(o,l,null),_(t,s),a&&a.m(t,null),i=!0},p(c,f){const d={};f[0]&256&&(d.value=c[38].text),o.$set(d),!c[38].isBot&&c[38].hash&&!c[38].isPending?a?a.p(c,f):(a=de(c),a.c(),a.m(t,null)):a&&(a.d(1),a=null),(!i||f[0]&256)&&P(e,"bot-message",c[38].isBot),(!i||f[0]&256)&&P(e,"user-message",!c[38].isBot)},i(c){i||(q(o.$$.fragment,c),i=!0)},o(c){Q(o.$$.fragment,c),i=!1},d(c){c&&B(e),be(o),a&&a.d()}}}function fe(n){let e;return{c(){e=b("div"),e.textContent="No messages yet",h(e,"class","no-messages svelte-mfkb21")},m(t,l){F(t,e,l)},d(t){t&&B(e)}}}function me(n){let e,t,l=$(n[1]),o=[];for(let s=0;s<l.length;s+=1)o[s]=_e(oe(n,l,s));return{c(){e=b("div"),t=b("div");for(let s=0;s<o.length;s+=1)o[s].c();h(t,"class","starter-queries svelte-mfkb21"),h(e,"class","starter-queries-container svelte-mfkb21")},m(s,i){F(s,e,i),_(e,t);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(t,null)},p(s,i){if(i[0]&2050){l=$(s[1]);let a;for(a=0;a<l.length;a+=1){const c=oe(s,l,a);o[a]?o[a].p(c,i):(o[a]=_e(c),o[a].c(),o[a].m(t,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=l.length}},d(s){s&&B(e),ke(o,s)}}}function _e(n){let e,t=n[35]+"",l,o,s,i;function a(){return n[21](n[35])}return{c(){e=b("button"),l=T(t),o=S(),h(e,"class","starter-query-button svelte-mfkb21")},m(c,f){F(c,e,f),_(e,l),_(e,o),s||(i=D(e,"click",a),s=!0)},p(c,f){n=c,f[0]&2&&t!==(t=n[35]+"")&&ee(l,t)},d(c){c&&B(e),s=!1,i()}}}function Qe(n){let e,t,l,o,s,i,a,c,f,d,m,r,y,g,H,V,p,R,C,K,W,L,I,Z,w=n[7]&&(n[7].lines_added>0||n[7].lines_removed>0)&&re(n);const j=[Ue,We],z=[];function N(k,E){return k[0]==="chat"?0:k[0]==="code"?1:-1}return~(m=N(n))&&(r=z[m]=j[m](n)),{c(){e=b("div"),t=b("button"),l=S(),o=b("div"),s=b("button"),s.textContent="Chat",i=S(),a=b("button"),c=T(`Code
			`),w&&w.c(),f=S(),d=b("div"),r&&r.c(),y=S(),g=b("div"),H=b("div"),H.innerHTML="Powered by: <code>gpt-oss</code>",V=S(),p=b("textarea"),R=S(),C=b("button"),K=T("Send"),h(t,"class","resize-handle svelte-mfkb21"),h(t,"aria-label","Resize sidebar"),h(s,"class","tab-button svelte-mfkb21"),P(s,"active",n[0]==="chat"),h(a,"class","tab-button svelte-mfkb21"),P(a,"active",n[0]==="code"),h(o,"class","tab-header svelte-mfkb21"),h(d,"class","tab-content svelte-mfkb21"),h(H,"class","powered-by svelte-mfkb21"),h(p,"placeholder","What can I add or change?"),h(p,"class","prompt-input svelte-mfkb21"),h(C,"class","submit-button svelte-mfkb21"),C.disabled=W=n[3].trim()==="",h(g,"class","input-section svelte-mfkb21"),h(e,"class","vibe-editor svelte-mfkb21"),se(e,"width",n[4]+"px")},m(k,E){F(k,e,E),_(e,t),_(e,l),_(e,o),_(o,s),_(o,i),_(o,a),_(a,c),w&&w.m(a,null),_(e,f),_(e,d),~m&&z[m].m(d,null),_(e,y),_(e,g),_(g,H),_(g,V),_(g,p),le(p,n[3]),_(g,R),_(g,C),_(C,K),n[28](e),L=!0,I||(Z=[D(t,"mousedown",n[13]),D(s,"click",n[18]),D(a,"click",n[19]),D(p,"keydown",n[25]),D(p,"input",n[26]),D(C,"click",n[27])],I=!0)},p(k,E){(!L||E[0]&1)&&P(s,"active",k[0]==="chat"),k[7]&&(k[7].lines_added>0||k[7].lines_removed>0)?w?w.p(k,E):(w=re(k),w.c(),w.m(a,null)):w&&(w.d(1),w=null),(!L||E[0]&1)&&P(a,"active",k[0]==="code");let A=m;m=N(k),m===A?~m&&z[m].p(k,E):(r&&(ve(),Q(z[A],1,1,()=>{z[A]=null}),pe()),~m?(r=z[m],r?r.p(k,E):(r=z[m]=j[m](k),r.c()),q(r,1),r.m(d,null)):r=null),E[0]&8&&le(p,k[3]),(!L||E[0]&8&&W!==(W=k[3].trim()===""))&&(C.disabled=W),(!L||E[0]&16)&&se(e,"width",k[4]+"px")},i(k){L||(q(r),L=!0)},o(k){Q(r),L=!1},d(k){k&&B(e),w&&w.d(),~m&&z[m].d(),n[28](null),I=!1,we(Z)}}}function Ie(n,e,t){let{app:l}=e,{root:o}=e,s="",i=350,a=!1,c,f="chat",d="",m=null,r=[],y;const g=(u="smooth")=>{y&&y.scrollTo({top:y.scrollHeight,behavior:u})};let H=[];(async()=>{l.post_data(`${o}/gradio_api/vibe-starter-queries/`,{}).then(async([v,M])=>{if(M!==200)throw new Error(`Error: ${M}`);t(1,H=v.starter_queries)}).catch(async v=>{console.error("Failed to fetch starter queries:",v)})})();const p=async u=>{const v=u||s;if(v.trim()==="")return;t(7,m=null);const M=r.length;t(8,r=[...r,{text:v,isBot:!1}]);const G=r.length;t(8,r=[...r,{text:"Working...",isBot:!0,isPending:!0}]),await O(),g();const Fe=v;u||t(3,s=""),l.post_data(`${o}/gradio_api/vibe-edit/`,{prompt:Fe}).then(async([te,X])=>{if(X!==200)throw new Error(`Error: ${X}`);const U=te;t(7,m=U.diff_stats),t(8,r=r.map((Y,J)=>(console.log(J,M,U.hash),J===M?{...Y,hash:U.hash}:Y))),t(8,r=r.map((Y,J)=>J===G?{text:U.reasoning?U.reasoning:"Done.",isBot:!0,isPending:!1}:Y)),await O(),g()}).catch(async te=>{t(8,r=r.map((X,U)=>U===G?{text:"Error occurred.",isBot:!0,isPending:!1}:X)),await O(),g()})},R=async u=>{await p(u)},C=async(u,v)=>{try{await l.post_data(`${o}/gradio_api/undo-vibe-edit/`,{hash:u}),t(7,m=null);const M=r[v];t(3,s=M.text),t(8,r=r.slice(0,v))}catch(M){console.error("Failed to undo:",M)}},K=u=>{u.preventDefault(),a=!0,document.addEventListener("mousemove",W),document.addEventListener("mouseup",L),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},W=u=>{if(!a)return;const v=250,M=Math.min(800,window.innerWidth*.5),G=window.innerWidth-u.clientX;t(4,i=Math.max(v,Math.min(M,G))),window.dispatchEvent(new CustomEvent("vibeEditorResize",{detail:{width:i}}))},L=()=>{a=!1,document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",L),document.body.style.cursor="",document.body.style.userSelect=""},I=async()=>{try{const u=await fetch(`${o}/gradio_api/vibe-code/`,{method:"GET",headers:{"Content-Type":"application/json"}});if(u.ok){const v=await u.json();t(6,d=v.code)}}catch(u){console.error("Failed to fetch code:",u)}};let Z=!1;const w=async()=>{try{await l.post_data(`${o}/gradio_api/vibe-code/`,{code:d}),t(2,Z=!0),setTimeout(()=>{t(2,Z=!1)},1e3)}catch(u){console.error("Failed to update code:",u)}};function j(){const u="https://huggingface.co/new-space",v=new URLSearchParams({name:"new-space",sdk:"gradio"}),M=d.trimStart();v.append("files[0][path]","app.py"),v.append("files[0][content]",M),window.open(`${u}?${v.toString()}`,"_blank")?.focus()}Te(()=>()=>{document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",L)});const z=()=>t(0,f="chat"),N=()=>t(0,f="code"),k=(u,v)=>C(u.hash||"",v),E=u=>R(u);function A(u){x[u?"unshift":"push"](()=>{y=u,t(9,y)})}function ye(u){d=u,t(6,d)}const Ce=()=>j(),Ee=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),p())};function Me(){s=this.value,t(3,s)}const Se=()=>p();function Be(u){x[u?"unshift":"push"](()=>{c=u,t(5,c)})}return n.$$set=u=>{"app"in u&&t(16,l=u.app),"root"in u&&t(17,o=u.root)},n.$$.update=()=>{n.$$.dirty[0]&65536&&I(),n.$$.dirty[0]&1&&f==="chat"&&O().then(()=>g("auto")),n.$$.dirty[0]&4,n.$$.dirty[0]&2},[f,H,Z,s,i,c,d,m,r,y,p,R,C,K,w,j,l,o,z,N,k,E,A,ye,Ce,Ee,Me,Se,Be]}class tt extends Le{constructor(e){super(),De(this,e,Ie,Qe,Pe,{app:16,root:17},null,[-1,-1])}get app(){return this.$$.ctx[16]}set app(e){this.$$set({app:e}),ne()}get root(){return this.$$.ctx[17]}set root(e){this.$$set({root:e}),ne()}}export{tt as default};
//# sourceMappingURL=Index-4V1RXY5w.js.map
