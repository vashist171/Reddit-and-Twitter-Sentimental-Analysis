import{g as kl}from"./color-D6UHETZT.js";import{u as Ve}from"./init-BXnIR-ED.js";import{c as pl,B as vl,X as je,E as wl}from"./FullscreenButton-D7OpqaEU.js";import{S as yl}from"./StreamingBar-Bc_J-1Oe.js";import"./index-BvFm9VBJ.js";import"./svelte/svelte.js";import"./MarkdownCode-DhbjNcA6.js";import"./prism-python-Dt5iPx6n.js";function He(l,e,n){if(!n){var t=document.createElement("canvas");n=t.getContext("2d")}n.fillStyle=l,n.fillRect(0,0,1,1);const[s,i,o]=n.getImageData(0,0,1,1).data;return n.clearRect(0,0,1,1),`rgba(${s}, ${i}, ${o}, ${255/e})`}function jl(l,e,n,t){for(const s in l){const i=l[s].trim();i in Ve?e[s]=Ve[i]:e[s]={primary:n?He(l[s],1,t):l[s],secondary:n?He(l[s],.5,t):l[s]}}}function Sl(l,e){let n=[],t=null,s=null;for(const i of l)s===i.class_or_confidence?t=t?t+i.token:i.token:(t!==null&&n.push({token:t,class_or_confidence:s}),t=i.token,s=i.class_or_confidence);return t!==null&&n.push({token:t,class_or_confidence:s}),n}const{SvelteComponent:fn,append:Q,attr:V,destroy_each:Se,detach:M,element:F,empty:El,ensure_array_like:Z,flush:fe,init:cn,insert:q,listen:ce,noop:Me,run_all:_n,safe_not_equal:un,set_data:Ee,set_style:ke,space:ie,text:_e,toggle_class:Y}=window.__gradio__svelte__internal,{createEventDispatcher:dn}=window.__gradio__svelte__internal;function qe(l,e,n){const t=l.slice();t[18]=e[n];const s=typeof t[18].class_or_confidence=="string"?parseInt(t[18].class_or_confidence):t[18].class_or_confidence;return t[27]=s,t}function Re(l,e,n){const t=l.slice();return t[18]=e[n],t[20]=n,t}function De(l,e,n){const t=l.slice();return t[21]=e[n],t[23]=n,t}function Ae(l,e,n){const t=l.slice();return t[24]=e[n][0],t[25]=e[n][1],t[20]=n,t}function hn(l){let e,n,t=l[1]&&Fe(),s=Z(l[0]),i=[];for(let o=0;o<s.length;o+=1)i[o]=Ke(qe(l,s,o));return{c(){t&&t.c(),e=ie(),n=F("div");for(let o=0;o<i.length;o+=1)i[o].c();V(n,"class","textfield svelte-ju12zg"),V(n,"data-testid","highlighted-text:textfield")},m(o,a){t&&t.m(o,a),q(o,e,a),q(o,n,a);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(n,null)},p(o,a){if(o[1]?t||(t=Fe(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),a&1){s=Z(o[0]);let r;for(r=0;r<s.length;r+=1){const c=qe(o,s,r);i[r]?i[r].p(c,a):(i[r]=Ke(c),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(o){o&&(M(e),M(n)),t&&t.d(o),Se(i,o)}}}function gn(l){let e,n,t=l[1]&&Pe(l),s=Z(l[0]),i=[];for(let o=0;o<s.length;o+=1)i[o]=We(Re(l,s,o));return{c(){t&&t.c(),e=ie(),n=F("div");for(let o=0;o<i.length;o+=1)i[o].c();V(n,"class","textfield svelte-ju12zg")},m(o,a){t&&t.m(o,a),q(o,e,a),q(o,n,a);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(n,null)},p(o,a){if(o[1]?t?t.p(o,a):(t=Pe(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),a&191){s=Z(o[0]);let r;for(r=0;r<s.length;r+=1){const c=Re(o,s,r);i[r]?i[r].p(c,a):(i[r]=We(c),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(o){o&&(M(e),M(n)),t&&t.d(o),Se(i,o)}}}function Fe(l){let e;return{c(){e=F("div"),e.innerHTML="<span>-1</span> <span>0</span> <span>+1</span>",V(e,"class","color-legend svelte-ju12zg"),V(e,"data-testid","highlighted-text:color-legend")},m(n,t){q(n,e,t)},d(n){n&&M(e)}}}function Ke(l){let e,n,t=l[18].token+"",s,i,o;return{c(){e=F("span"),n=F("span"),s=_e(t),i=ie(),V(n,"class","text svelte-ju12zg"),V(e,"class","textspan score-text svelte-ju12zg"),V(e,"style",o="background-color: rgba("+(l[27]&&l[27]<0?"128, 90, 213,"+-l[27]:"239, 68, 60,"+l[27])+")")},m(a,r){q(a,e,r),Q(e,n),Q(n,s),Q(e,i)},p(a,r){r&1&&t!==(t=a[18].token+"")&&Ee(s,t),r&1&&o!==(o="background-color: rgba("+(a[27]&&a[27]<0?"128, 90, 213,"+-a[27]:"239, 68, 60,"+a[27])+")")&&V(e,"style",o)},d(a){a&&M(e)}}}function Pe(l){let e,n=Z(Object.entries(l[4])),t=[];for(let s=0;s<n.length;s+=1)t[s]=Ue(Ae(l,n,s));return{c(){e=F("div");for(let s=0;s<t.length;s+=1)t[s].c();V(e,"class","category-legend svelte-ju12zg"),V(e,"data-testid","highlighted-text:category-legend")},m(s,i){q(s,e,i);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,i){if(i&784){n=Z(Object.entries(s[4]));let o;for(o=0;o<n.length;o+=1){const a=Ae(s,n,o);t[o]?t[o].p(a,i):(t[o]=Ue(a),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&M(e),Se(t,s)}}}function Ue(l){let e,n=l[24]+"",t,s,i,o,a;function r(){return l[11](l[24])}function c(){return l[12](l[24])}return{c(){e=F("div"),t=_e(n),s=ie(),V(e,"class","category-label svelte-ju12zg"),V(e,"style",i="background-color:"+l[25].secondary)},m(f,h){q(f,e,h),Q(e,t),Q(e,s),o||(a=[ce(e,"mouseover",r),ce(e,"focus",c),ce(e,"mouseout",l[13]),ce(e,"blur",l[14])],o=!0)},p(f,h){l=f,h&16&&n!==(n=l[24]+"")&&Ee(t,n),h&16&&i!==(i="background-color:"+l[25].secondary)&&V(e,"style",i)},d(f){f&&M(e),o=!1,_n(a)}}}function Xe(l){let e,n,t=l[21]+"",s,i,o,a,r=!l[1]&&l[2]&&l[18].class_or_confidence!==null&&Ge(l);function c(){return l[15](l[20],l[18])}return{c(){e=F("span"),n=F("span"),s=_e(t),i=ie(),r&&r.c(),V(n,"class","text svelte-ju12zg"),Y(n,"no-label",l[18].class_or_confidence===null||!l[4][l[18].class_or_confidence]),V(e,"class","textspan svelte-ju12zg"),Y(e,"no-cat",l[18].class_or_confidence===null||l[5]&&l[5]!==l[18].class_or_confidence),Y(e,"hl",l[18].class_or_confidence!==null),Y(e,"selectable",l[3]),ke(e,"background-color",l[18].class_or_confidence===null||l[5]&&l[5]!==l[18].class_or_confidence?"":l[4][l[18].class_or_confidence].secondary)},m(f,h){q(f,e,h),Q(e,n),Q(n,s),Q(e,i),r&&r.m(e,null),o||(a=ce(e,"click",c),o=!0)},p(f,h){l=f,h&1&&t!==(t=l[21]+"")&&Ee(s,t),h&17&&Y(n,"no-label",l[18].class_or_confidence===null||!l[4][l[18].class_or_confidence]),!l[1]&&l[2]&&l[18].class_or_confidence!==null?r?r.p(l,h):(r=Ge(l),r.c(),r.m(e,null)):r&&(r.d(1),r=null),h&33&&Y(e,"no-cat",l[18].class_or_confidence===null||l[5]&&l[5]!==l[18].class_or_confidence),h&1&&Y(e,"hl",l[18].class_or_confidence!==null),h&8&&Y(e,"selectable",l[3]),h&49&&ke(e,"background-color",l[18].class_or_confidence===null||l[5]&&l[5]!==l[18].class_or_confidence?"":l[4][l[18].class_or_confidence].secondary)},d(f){f&&M(e),r&&r.d(),o=!1,a()}}}function Ge(l){let e,n,t=l[18].class_or_confidence+"",s;return{c(){e=_e(`Â 
								`),n=F("span"),s=_e(t),V(n,"class","label svelte-ju12zg"),ke(n,"background-color",l[18].class_or_confidence===null||l[5]&&l[5]!==l[18].class_or_confidence?"":l[4][l[18].class_or_confidence].primary)},m(i,o){q(i,e,o),q(i,n,o),Q(n,s)},p(i,o){o&1&&t!==(t=i[18].class_or_confidence+"")&&Ee(s,t),o&49&&ke(n,"background-color",i[18].class_or_confidence===null||i[5]&&i[5]!==i[18].class_or_confidence?"":i[4][i[18].class_or_confidence].primary)},d(i){i&&(M(e),M(n))}}}function Je(l){let e;return{c(){e=F("br")},m(n,t){q(n,e,t)},d(n){n&&M(e)}}}function Qe(l){let e=l[21].trim()!=="",n,t=l[23]<pe(l[18].token).length-1,s,i=e&&Xe(l),o=t&&Je();return{c(){i&&i.c(),n=ie(),o&&o.c(),s=El()},m(a,r){i&&i.m(a,r),q(a,n,r),o&&o.m(a,r),q(a,s,r)},p(a,r){r&1&&(e=a[21].trim()!==""),e?i?i.p(a,r):(i=Xe(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),r&1&&(t=a[23]<pe(a[18].token).length-1),t?o||(o=Je(),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(a){a&&(M(n),M(s)),i&&i.d(a),o&&o.d(a)}}}function We(l){let e,n=Z(pe(l[18].token)),t=[];for(let s=0;s<n.length;s+=1)t[s]=Qe(De(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=El()},m(s,i){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,i);q(s,e,i)},p(s,i){if(i&191){n=Z(pe(s[18].token));let o;for(o=0;o<n.length;o+=1){const a=De(s,n,o);t[o]?t[o].p(a,i):(t[o]=Qe(a),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&M(e),Se(t,s)}}}function mn(l){let e;function n(i,o){return i[6]==="categories"?gn:hn}let t=n(l),s=t(l);return{c(){e=F("div"),s.c(),V(e,"class","container svelte-ju12zg")},m(i,o){q(i,e,o),s.m(e,null)},p(i,[o]){t===(t=n(i))&&s?s.p(i,o):(s.d(1),s=t(i),s&&(s.c(),s.m(e,null)))},i:Me,o:Me,d(i){i&&M(e),s.d()}}}function pe(l){return l.split(`
`)}function bn(l,e,n){const t=typeof document<"u";let{value:s=[]}=e,{show_legend:i=!1}=e,{show_inline_category:o=!0}=e,{color_map:a={}}=e,{selectable:r=!1}=e,c,f={},h="";const p=dn();let b;function _(m){n(5,h=m)}function d(){n(5,h="")}const w=m=>_(m),S=m=>_(m),y=()=>d(),g=()=>d(),j=(m,z)=>{p("select",{index:m,value:[z.token,z.class_or_confidence]})};return l.$$set=m=>{"value"in m&&n(0,s=m.value),"show_legend"in m&&n(1,i=m.show_legend),"show_inline_category"in m&&n(2,o=m.show_inline_category),"color_map"in m&&n(10,a=m.color_map),"selectable"in m&&n(3,r=m.selectable)},l.$$.update=()=>{if(l.$$.dirty&1041){if(a||n(10,a={}),s.length>0){for(let m of s)if(m.class_or_confidence!==null)if(typeof m.class_or_confidence=="string"){if(n(6,b="categories"),!(m.class_or_confidence in a)){let z=kl(Object.keys(a).length);n(10,a[m.class_or_confidence]=z,a)}}else n(6,b="scores")}n(4,f={}),jl(a,f,t,c)}},[s,i,o,r,f,h,b,p,_,d,a,w,S,y,g,j]}class kn extends fn{constructor(e){super(),cn(this,e,bn,mn,un,{value:0,show_legend:1,show_inline_category:2,color_map:10,selectable:3})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),fe()}get show_legend(){return this.$$.ctx[1]}set show_legend(e){this.$$set({show_legend:e}),fe()}get show_inline_category(){return this.$$.ctx[2]}set show_inline_category(e){this.$$set({show_inline_category:e}),fe()}get color_map(){return this.$$.ctx[10]}set color_map(e){this.$$set({color_map:e}),fe()}get selectable(){return this.$$.ctx[3]}set selectable(e){this.$$set({selectable:e}),fe()}}const{SvelteComponent:pn,attr:X,detach:Le,element:zl,empty:vn,flush:J,init:wn,insert:$e,listen:ee,noop:Ye,run_all:Cl,safe_not_equal:yn,set_style:se}=window.__gradio__svelte__internal;function jn(l){let e,n,t,s;return{c(){e=zl("input"),X(e,"class","label-input svelte-1cag2po"),e.autofocus=!0,X(e,"type","number"),X(e,"step","0.1"),X(e,"style",n="background-color: rgba("+(typeof l[1]=="number"&&l[1]<0?"128, 90, 213,"+-l[1]:"239, 68, 60,"+l[1])+")"),e.value=l[1],se(e,"width","7ch")},m(i,o){$e(i,e,o),e.focus(),t||(s=[ee(e,"input",l[8]),ee(e,"blur",l[14]),ee(e,"keydown",l[15])],t=!0)},p(i,o){o&2&&n!==(n="background-color: rgba("+(typeof i[1]=="number"&&i[1]<0?"128, 90, 213,"+-i[1]:"239, 68, 60,"+i[1])+")")&&X(e,"style",n),o&2&&e.value!==i[1]&&(e.value=i[1]);const a=o&2;(o&2||a)&&se(e,"width","7ch")},d(i){i&&Le(e),t=!1,Cl(s)}}}function Sn(l){let e,n,t,s;return{c(){e=zl("input"),X(e,"class","label-input svelte-1cag2po"),e.autofocus=!0,X(e,"id",n=`label-input-${l[3]}`),X(e,"type","text"),X(e,"placeholder","label"),e.value=l[1],se(e,"background-color",l[1]===null||l[2]&&l[2]!==l[1]?"":l[6][l[1]].primary),se(e,"width",l[7]?l[7].toString()?.length+4+"ch":"8ch")},m(i,o){$e(i,e,o),e.focus(),t||(s=[ee(e,"input",l[8]),ee(e,"blur",l[12]),ee(e,"keydown",l[13]),ee(e,"focus",zn)],t=!0)},p(i,o){o&8&&n!==(n=`label-input-${i[3]}`)&&X(e,"id",n),o&2&&e.value!==i[1]&&(e.value=i[1]),o&70&&se(e,"background-color",i[1]===null||i[2]&&i[2]!==i[1]?"":i[6][i[1]].primary),o&128&&se(e,"width",i[7]?i[7].toString()?.length+4+"ch":"8ch")},d(i){i&&Le(e),t=!1,Cl(s)}}}function En(l){let e;function n(i,o){return i[5]?jn:Sn}let t=n(l),s=t(l);return{c(){s.c(),e=vn()},m(i,o){s.m(i,o),$e(i,e,o)},p(i,[o]){t===(t=n(i))&&s?s.p(i,o):(s.d(1),s=t(i),s&&(s.c(),s.m(e.parentNode,e)))},i:Ye,o:Ye,d(i){i&&Le(e),s.d(i)}}}function zn(l){let e=l.target;e&&e.placeholder&&(e.placeholder="")}function Cn(l,e,n){let{value:t}=e,{category:s}=e,{active:i}=e,{labelToEdit:o}=e,{indexOfLabel:a}=e,{text:r}=e,{handleValueChange:c}=e,{isScoresMode:f=!1}=e,{_color_map:h}=e,p=s;function b(g){let j=g.target;j&&n(7,p=j.value)}function _(g,j,m){let z=g.target;n(10,t=[...t.slice(0,j),{token:m,class_or_confidence:z.value===""?null:f?Number(z.value):z.value},...t.slice(j+1)]),c()}const d=g=>_(g,a,r),w=g=>{g.key==="Enter"&&(_(g,a,r),n(0,o=-1))},S=g=>_(g,a,r),y=g=>{g.key==="Enter"&&(_(g,a,r),n(0,o=-1))};return l.$$set=g=>{"value"in g&&n(10,t=g.value),"category"in g&&n(1,s=g.category),"active"in g&&n(2,i=g.active),"labelToEdit"in g&&n(0,o=g.labelToEdit),"indexOfLabel"in g&&n(3,a=g.indexOfLabel),"text"in g&&n(4,r=g.text),"handleValueChange"in g&&n(11,c=g.handleValueChange),"isScoresMode"in g&&n(5,f=g.isScoresMode),"_color_map"in g&&n(6,h=g._color_map)},[o,s,i,a,r,f,h,p,b,_,t,c,d,w,S,y]}class Nl extends pn{constructor(e){super(),wn(this,e,Cn,En,yn,{value:10,category:1,active:2,labelToEdit:0,indexOfLabel:3,text:4,handleValueChange:11,isScoresMode:5,_color_map:6})}get value(){return this.$$.ctx[10]}set value(e){this.$$set({value:e}),J()}get category(){return this.$$.ctx[1]}set category(e){this.$$set({category:e}),J()}get active(){return this.$$.ctx[2]}set active(e){this.$$set({active:e}),J()}get labelToEdit(){return this.$$.ctx[0]}set labelToEdit(e){this.$$set({labelToEdit:e}),J()}get indexOfLabel(){return this.$$.ctx[3]}set indexOfLabel(e){this.$$set({indexOfLabel:e}),J()}get text(){return this.$$.ctx[4]}set text(e){this.$$set({text:e}),J()}get handleValueChange(){return this.$$.ctx[11]}set handleValueChange(e){this.$$set({handleValueChange:e}),J()}get isScoresMode(){return this.$$.ctx[5]}set isScoresMode(e){this.$$set({isScoresMode:e}),J()}get _color_map(){return this.$$.ctx[6]}set _color_map(e){this.$$set({_color_map:e}),J()}}const{SvelteComponent:Nn,add_flush_callback:Tl,append:D,attr:v,bind:Ol,binding_callbacks:Ll,check_outros:te,create_component:$l,destroy_component:Bl,destroy_each:ze,detach:L,element:H,empty:Be,ensure_array_like:x,flush:be,group_outros:oe,init:Tn,insert:$,listen:C,mount_component:Il,run_all:re,safe_not_equal:On,set_data:Ce,set_style:ve,space:G,text:he,toggle_class:A,transition_in:T,transition_out:R}=window.__gradio__svelte__internal,{createEventDispatcher:Ln,onMount:$n}=window.__gradio__svelte__internal;function Ze(l,e,n){const t=l.slice();t[45]=e[n].token,t[46]=e[n].class_or_confidence,t[48]=n;const s=typeof t[46]=="string"?parseInt(t[46]):t[46];return t[54]=s,t}function xe(l,e,n){const t=l.slice();return t[45]=e[n].token,t[46]=e[n].class_or_confidence,t[48]=n,t}function el(l,e,n){const t=l.slice();return t[49]=e[n],t[51]=n,t}function ll(l,e,n){const t=l.slice();return t[46]=e[n][0],t[52]=e[n][1],t[48]=n,t}function Bn(l){let e,n,t,s=l[1]&&nl(),i=x(l[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=sl(Ze(l,i,r));const a=r=>R(o[r],1,1,()=>{o[r]=null});return{c(){s&&s.c(),e=G(),n=H("div");for(let r=0;r<o.length;r+=1)o[r].c();v(n,"class","textfield svelte-1ozsnjl"),v(n,"data-testid","highlighted-text:textfield")},m(r,c){s&&s.m(r,c),$(r,e,c),$(r,n,c);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(n,null);t=!0},p(r,c){if(r[1]?s||(s=nl(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c[0]&889){i=x(r[0]);let f;for(f=0;f<i.length;f+=1){const h=Ze(r,i,f);o[f]?(o[f].p(h,c),T(o[f],1)):(o[f]=sl(h),o[f].c(),T(o[f],1),o[f].m(n,null))}for(oe(),f=i.length;f<o.length;f+=1)a(f);te()}},i(r){if(!t){for(let c=0;c<i.length;c+=1)T(o[c]);t=!0}},o(r){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)R(o[c]);t=!1},d(r){r&&(L(e),L(n)),s&&s.d(r),ze(o,r)}}}function In(l){let e,n,t,s=l[1]&&il(l),i=x(l[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=gl(xe(l,i,r));const a=r=>R(o[r],1,1,()=>{o[r]=null});return{c(){s&&s.c(),e=G(),n=H("div");for(let r=0;r<o.length;r+=1)o[r].c();v(n,"class","textfield svelte-1ozsnjl")},m(r,c){s&&s.m(r,c),$(r,e,c),$(r,n,c);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(n,null);t=!0},p(r,c){if(r[1]?s?s.p(r,c):(s=il(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c[0]&13183){i=x(r[0]);let f;for(f=0;f<i.length;f+=1){const h=xe(r,i,f);o[f]?(o[f].p(h,c),T(o[f],1)):(o[f]=gl(h),o[f].c(),T(o[f],1),o[f].m(n,null))}for(oe(),f=i.length;f<o.length;f+=1)a(f);te()}},i(r){if(!t){for(let c=0;c<i.length;c+=1)T(o[c]);t=!0}},o(r){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)R(o[c]);t=!1},d(r){r&&(L(e),L(n)),s&&s.d(r),ze(o,r)}}}function nl(l){let e;return{c(){e=H("div"),e.innerHTML="<span>-1</span> <span>0</span> <span>+1</span>",v(e,"class","color-legend svelte-1ozsnjl"),v(e,"data-testid","highlighted-text:color-legend")},m(n,t){$(n,e,t)},d(n){n&&L(e)}}}function tl(l){let e,n,t;function s(o){l[32](o)}let i={labelToEdit:l[6],_color_map:l[3],category:l[46],active:l[5],indexOfLabel:l[48],text:l[45],handleValueChange:l[9],isScoresMode:!0};return l[0]!==void 0&&(i.value=l[0]),e=new Nl({props:i}),Ll.push(()=>Ol(e,"value",s)),{c(){$l(e.$$.fragment)},m(o,a){Il(e,o,a),t=!0},p(o,a){const r={};a[0]&64&&(r.labelToEdit=o[6]),a[0]&8&&(r._color_map=o[3]),a[0]&1&&(r.category=o[46]),a[0]&32&&(r.active=o[5]),a[0]&1&&(r.text=o[45]),!n&&a[0]&1&&(n=!0,r.value=o[0],Tl(()=>n=!1)),e.$set(r)},i(o){t||(T(e.$$.fragment,o),t=!0)},o(o){R(e.$$.fragment,o),t=!1},d(o){Bl(e,o)}}}function ol(l){let e,n,t;function s(){return l[37](l[48])}function i(...o){return l[38](l[48],...o)}return{c(){e=H("span"),e.textContent="Ã",v(e,"class","label-clear-button svelte-1ozsnjl"),v(e,"role","button"),v(e,"aria-roledescription","Remove label from text"),v(e,"tabindex","0")},m(o,a){$(o,e,a),n||(t=[C(e,"click",s),C(e,"keydown",i)],n=!0)},p(o,a){l=o},d(o){o&&L(e),n=!1,re(t)}}}function sl(l){let e,n,t,s=l[45]+"",i,o,a,r,c,f,h,p,b=l[46]&&l[6]===l[48]&&tl(l);function _(){return l[33](l[48])}function d(){return l[34](l[48])}function w(){return l[35](l[48])}function S(...g){return l[36](l[48],...g)}let y=l[46]&&l[4]===l[48]&&ol(l);return{c(){e=H("span"),n=H("span"),t=H("span"),i=he(s),o=G(),b&&b.c(),r=G(),y&&y.c(),c=G(),v(t,"class","text svelte-1ozsnjl"),v(n,"class","textspan score-text svelte-1ozsnjl"),v(n,"role","button"),v(n,"tabindex","0"),v(n,"style",a="background-color: rgba("+(l[54]&&l[54]<0?"128, 90, 213,"+-l[54]:"239, 68, 60,"+l[54])+")"),A(n,"no-cat",l[46]===null||l[5]&&l[5]!==l[46]),A(n,"hl",l[46]!==null),v(e,"class","score-text-container svelte-1ozsnjl")},m(g,j){$(g,e,j),D(e,n),D(n,t),D(t,i),D(n,o),b&&b.m(n,null),D(e,r),y&&y.m(e,null),D(e,c),f=!0,h||(p=[C(n,"mouseover",_),C(n,"focus",d),C(n,"click",w),C(n,"keydown",S)],h=!0)},p(g,j){l=g,(!f||j[0]&1)&&s!==(s=l[45]+"")&&Ce(i,s),l[46]&&l[6]===l[48]?b?(b.p(l,j),j[0]&65&&T(b,1)):(b=tl(l),b.c(),T(b,1),b.m(n,null)):b&&(oe(),R(b,1,1,()=>{b=null}),te()),(!f||j[0]&1&&a!==(a="background-color: rgba("+(l[54]&&l[54]<0?"128, 90, 213,"+-l[54]:"239, 68, 60,"+l[54])+")"))&&v(n,"style",a),(!f||j[0]&33)&&A(n,"no-cat",l[46]===null||l[5]&&l[5]!==l[46]),(!f||j[0]&1)&&A(n,"hl",l[46]!==null),l[46]&&l[4]===l[48]?y?y.p(l,j):(y=ol(l),y.c(),y.m(e,c)):y&&(y.d(1),y=null)},i(g){f||(T(b),f=!0)},o(g){R(b),f=!1},d(g){g&&L(e),b&&b.d(),y&&y.d(),h=!1,re(p)}}}function il(l){let e,n=l[3]&&rl(l);return{c(){e=H("div"),n&&n.c(),v(e,"class","class_or_confidence-legend svelte-1ozsnjl"),v(e,"data-testid","highlighted-text:class_or_confidence-legend")},m(t,s){$(t,e,s),n&&n.m(e,null)},p(t,s){t[3]?n?n.p(t,s):(n=rl(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(t){t&&L(e),n&&n.d()}}}function rl(l){let e,n=x(Object.entries(l[3])),t=[];for(let s=0;s<n.length;s+=1)t[s]=al(ll(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Be()},m(s,i){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,i);$(s,e,i)},p(s,i){if(i[0]&3080){n=x(Object.entries(s[3]));let o;for(o=0;o<n.length;o+=1){const a=ll(s,n,o);t[o]?t[o].p(a,i):(t[o]=al(a),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(s){s&&L(e),ze(t,s)}}}function al(l){let e,n=l[46]+"",t,s,i,o,a;function r(){return l[15](l[46])}function c(){return l[16](l[46])}return{c(){e=H("div"),t=he(n),s=G(),v(e,"role","button"),v(e,"aria-roledescription","Categories of highlighted text. Hover to see text with this class_or_confidence highlighted."),v(e,"tabindex","0"),v(e,"class","class_or_confidence-label svelte-1ozsnjl"),v(e,"style",i="background-color:"+l[52].secondary)},m(f,h){$(f,e,h),D(e,t),D(e,s),o||(a=[C(e,"mouseover",r),C(e,"focus",c),C(e,"mouseout",l[17]),C(e,"blur",l[18])],o=!0)},p(f,h){l=f,h[0]&8&&n!==(n=l[46]+"")&&Ce(t,n),h[0]&8&&i!==(i="background-color:"+l[52].secondary)&&v(e,"style",i)},d(f){f&&L(e),o=!1,re(a)}}}function fl(l){let e,n,t,s=l[49]+"",i,o,a,r,c,f,h;function p(){return l[20](l[48])}function b(){return l[21](l[48])}function _(){return l[22](l[48])}let d=!l[1]&&l[46]!==null&&l[6]!==l[48]&&cl(l),w=l[6]===l[48]&&l[46]!==null&&_l(l);function S(){return l[26](l[46],l[48],l[45])}function y(...z){return l[27](l[46],l[48],l[45],...z)}function g(){return l[28](l[48])}function j(){return l[29](l[48])}let m=l[46]!==null&&ul(l);return{c(){e=H("span"),n=H("span"),t=H("span"),i=he(s),o=G(),d&&d.c(),a=G(),w&&w.c(),r=G(),m&&m.c(),v(t,"class","text svelte-1ozsnjl"),v(t,"role","button"),v(t,"tabindex","0"),A(t,"no-label",l[46]===null),v(n,"role","button"),v(n,"tabindex","0"),v(n,"class","textspan svelte-1ozsnjl"),A(n,"no-cat",l[46]===null||l[5]&&l[5]!==l[46]),A(n,"hl",l[46]!==null),A(n,"selectable",l[2]),ve(n,"background-color",l[46]===null||l[5]&&l[5]!==l[46]?"":l[46]&&l[3][l[46]]?l[3][l[46]].secondary:""),v(e,"class","text-class_or_confidence-container svelte-1ozsnjl")},m(z,B){$(z,e,B),D(e,n),D(n,t),D(t,i),D(n,o),d&&d.m(n,null),D(n,a),w&&w.m(n,null),D(e,r),m&&m.m(e,null),c=!0,f||(h=[C(t,"keydown",l[19]),C(t,"focus",p),C(t,"mouseover",b),C(t,"click",_),C(n,"click",S),C(n,"keydown",y),C(n,"focus",g),C(n,"mouseover",j)],f=!0)},p(z,B){l=z,(!c||B[0]&1)&&s!==(s=l[49]+"")&&Ce(i,s),(!c||B[0]&1)&&A(t,"no-label",l[46]===null),!l[1]&&l[46]!==null&&l[6]!==l[48]?d?d.p(l,B):(d=cl(l),d.c(),d.m(n,a)):d&&(d.d(1),d=null),l[6]===l[48]&&l[46]!==null?w?(w.p(l,B),B[0]&65&&T(w,1)):(w=_l(l),w.c(),T(w,1),w.m(n,null)):w&&(oe(),R(w,1,1,()=>{w=null}),te()),(!c||B[0]&33)&&A(n,"no-cat",l[46]===null||l[5]&&l[5]!==l[46]),(!c||B[0]&1)&&A(n,"hl",l[46]!==null),(!c||B[0]&4)&&A(n,"selectable",l[2]),B[0]&41&&ve(n,"background-color",l[46]===null||l[5]&&l[5]!==l[46]?"":l[46]&&l[3][l[46]]?l[3][l[46]].secondary:""),l[46]!==null?m?m.p(l,B):(m=ul(l),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(z){c||(T(w),c=!0)},o(z){R(w),c=!1},d(z){z&&L(e),d&&d.d(),w&&w.d(),m&&m.d(),f=!1,re(h)}}}function cl(l){let e,n=l[46]+"",t,s,i;function o(){return l[23](l[48])}function a(){return l[24](l[48])}return{c(){e=H("span"),t=he(n),v(e,"id",`label-tag-${l[48]}`),v(e,"class","label svelte-1ozsnjl"),v(e,"role","button"),v(e,"tabindex","0"),ve(e,"background-color",l[46]===null||l[5]&&l[5]!==l[46]?"":l[3][l[46]].primary)},m(r,c){$(r,e,c),D(e,t),s||(i=[C(e,"click",o),C(e,"keydown",a)],s=!0)},p(r,c){l=r,c[0]&1&&n!==(n=l[46]+"")&&Ce(t,n),c[0]&41&&ve(e,"background-color",l[46]===null||l[5]&&l[5]!==l[46]?"":l[3][l[46]].primary)},d(r){r&&L(e),s=!1,re(i)}}}function _l(l){let e,n,t,s;function i(a){l[25](a)}let o={labelToEdit:l[6],category:l[46],active:l[5],_color_map:l[3],indexOfLabel:l[48],text:l[45],handleValueChange:l[9]};return l[0]!==void 0&&(o.value=l[0]),n=new Nl({props:o}),Ll.push(()=>Ol(n,"value",i)),{c(){e=he(`Â 
									`),$l(n.$$.fragment)},m(a,r){$(a,e,r),Il(n,a,r),s=!0},p(a,r){const c={};r[0]&64&&(c.labelToEdit=a[6]),r[0]&1&&(c.category=a[46]),r[0]&32&&(c.active=a[5]),r[0]&8&&(c._color_map=a[3]),r[0]&1&&(c.text=a[45]),!t&&r[0]&1&&(t=!0,c.value=a[0],Tl(()=>t=!1)),n.$set(c)},i(a){s||(T(n.$$.fragment,a),s=!0)},o(a){R(n.$$.fragment,a),s=!1},d(a){a&&L(e),Bl(n,a)}}}function ul(l){let e,n,t;function s(){return l[30](l[48])}function i(...o){return l[31](l[48],...o)}return{c(){e=H("span"),e.textContent="Ã",v(e,"class","label-clear-button svelte-1ozsnjl"),v(e,"role","button"),v(e,"aria-roledescription","Remove label from text"),v(e,"tabindex","0")},m(o,a){$(o,e,a),n||(t=[C(e,"click",s),C(e,"keydown",i)],n=!0)},p(o,a){l=o},d(o){o&&L(e),n=!1,re(t)}}}function dl(l){let e;return{c(){e=H("br")},m(n,t){$(n,e,t)},d(n){n&&L(e)}}}function hl(l){let e=l[49].trim()!=="",n,t=l[51]<we(l[45]).length-1,s,i,o=e&&fl(l),a=t&&dl();return{c(){o&&o.c(),n=G(),a&&a.c(),s=Be()},m(r,c){o&&o.m(r,c),$(r,n,c),a&&a.m(r,c),$(r,s,c),i=!0},p(r,c){c[0]&1&&(e=r[49].trim()!==""),e?o?(o.p(r,c),c[0]&1&&T(o,1)):(o=fl(r),o.c(),T(o,1),o.m(n.parentNode,n)):o&&(oe(),R(o,1,1,()=>{o=null}),te()),c[0]&1&&(t=r[51]<we(r[45]).length-1),t?a||(a=dl(),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(r){i||(T(o),i=!0)},o(r){R(o),i=!1},d(r){r&&(L(n),L(s)),o&&o.d(r),a&&a.d(r)}}}function gl(l){let e,n,t=x(we(l[45])),s=[];for(let o=0;o<t.length;o+=1)s[o]=hl(el(l,t,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Be()},m(o,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,a);$(o,e,a),n=!0},p(o,a){if(a[0]&13183){t=x(we(o[45]));let r;for(r=0;r<t.length;r+=1){const c=el(o,t,r);s[r]?(s[r].p(c,a),T(s[r],1)):(s[r]=hl(c),s[r].c(),T(s[r],1),s[r].m(e.parentNode,e))}for(oe(),r=t.length;r<s.length;r+=1)i(r);te()}},i(o){if(!n){for(let a=0;a<t.length;a+=1)T(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)R(s[a]);n=!1},d(o){o&&L(e),ze(s,o)}}}function Vn(l){let e,n,t,s;const i=[In,Bn],o=[];function a(r,c){return r[7]==="categories"?0:1}return n=a(l),t=o[n]=i[n](l),{c(){e=H("div"),t.c(),v(e,"class","container svelte-1ozsnjl")},m(r,c){$(r,e,c),o[n].m(e,null),s=!0},p(r,c){let f=n;n=a(r),n===f?o[n].p(r,c):(oe(),R(o[f],1,1,()=>{o[f]=null}),te(),t=o[n],t?t.p(r,c):(t=o[n]=i[n](r),t.c()),T(t,1),t.m(e,null))},i(r){s||(T(t),s=!0)},o(r){R(t),s=!1},d(r){r&&L(e),o[n].d()}}}function we(l){return l.split(`
`)}function Hn(l,e,n){const t=typeof document<"u";let{value:s=[]}=e,{show_legend:i=!1}=e,{color_map:o={}}=e,{selectable:a=!1}=e,r=-1,c,f={},h="",p,b=-1;$n(()=>{const u=()=>{p=window.getSelection(),z(),window.removeEventListener("mouseup",u)};window.addEventListener("mousedown",()=>{window.addEventListener("mouseup",u)})});async function _(u,O){if(p?.toString()&&r!==-1&&s[r].token.toString().includes(p.toString())){const W=Symbol(),ae=s[r].token,[on,sn,rn]=[ae.substring(0,u),ae.substring(u,O),ae.substring(O)];let ge=[...s.slice(0,r),{token:on,class_or_confidence:null},{token:sn,class_or_confidence:y==="scores"?1:"label",flag:W},{token:rn,class_or_confidence:null},...s.slice(r+1)];n(6,b=ge.findIndex(({flag:me})=>me===W)),ge=ge.filter(me=>me.token.trim()!==""),n(0,s=ge.map(({flag:me,...an})=>an)),S(),document.getElementById(`label-input-${b}`)?.focus()}}const d=Ln();function w(u){!s||u<0||u>=s.length||(n(0,s[u].class_or_confidence=null,s),n(0,s=Sl(s)),S(),window.getSelection()?.empty())}function S(){d("change",s),n(6,b=-1),i&&(n(14,o={}),n(3,f={}))}let y;function g(u){n(5,h=u)}function j(){n(5,h="")}async function m(u){p=window.getSelection(),u.key==="Enter"&&z()}function z(){if(p&&p?.toString().trim()!==""){const u=p.getRangeAt(0).startOffset,O=p.getRangeAt(0).endOffset;_(u,O)}}function B(u,O,W){d("select",{index:u,value:[O,W]})}const Ne=u=>g(u),Te=u=>g(u),Oe=()=>j(),k=()=>j(),ql=u=>m(u),Rl=u=>n(4,r=u),Dl=u=>n(4,r=u),Al=u=>n(6,b=u),Fl=u=>n(6,b=u),Kl=u=>n(6,b=u);function Pl(u){s=u,n(0,s)}const Ul=(u,O,W)=>{u!==null&&B(O,W,u)},Xl=(u,O,W,ae)=>{u!==null?(n(6,b=O),B(O,W,u)):m(ae)},Gl=u=>n(4,r=u),Jl=u=>n(4,r=u),Ql=u=>w(u),Wl=(u,O)=>{O.key==="Enter"&&w(u)};function Yl(u){s=u,n(0,s)}const Zl=u=>n(4,r=u),xl=u=>n(4,r=u),en=u=>n(6,b=u),ln=(u,O)=>{O.key==="Enter"&&n(6,b=u)},nn=u=>w(u),tn=(u,O)=>{O.key==="Enter"&&w(u)};return l.$$set=u=>{"value"in u&&n(0,s=u.value),"show_legend"in u&&n(1,i=u.show_legend),"color_map"in u&&n(14,o=u.color_map),"selectable"in u&&n(2,a=u.selectable)},l.$$.update=()=>{if(l.$$.dirty[0]&16393){if(o||n(14,o={}),s.length>0){for(let u of s)if(u.class_or_confidence!==null)if(typeof u.class_or_confidence=="string"){if(n(7,y="categories"),!(u.class_or_confidence in o)){let O=kl(Object.keys(o).length);n(14,o[u.class_or_confidence]=O,o)}}else n(7,y="scores")}n(3,f={}),jl(o,f,t,c)}},[s,i,a,f,r,h,b,y,w,S,g,j,m,B,o,Ne,Te,Oe,k,ql,Rl,Dl,Al,Fl,Kl,Pl,Ul,Xl,Gl,Jl,Ql,Wl,Yl,Zl,xl,en,ln,nn,tn]}class Mn extends Nn{constructor(e){super(),Tn(this,e,Hn,Vn,On,{value:0,show_legend:1,color_map:14,selectable:2},null,[-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),be()}get show_legend(){return this.$$.ctx[1]}set show_legend(e){this.$$set({show_legend:e}),be()}get color_map(){return this.$$.ctx[14]}set color_map(e){this.$$set({color_map:e}),be()}get selectable(){return this.$$.ctx[2]}set selectable(e){this.$$set({selectable:e}),be()}}const{SvelteComponent:qn,add_flush_callback:Rn,assign:Vl,bind:Dn,binding_callbacks:An,check_outros:ue,create_component:K,destroy_component:P,detach:le,empty:Ie,flush:I,get_spread_object:Hl,get_spread_update:Ml,group_outros:de,init:Fn,insert:ne,mount_component:U,safe_not_equal:Kn,space:ye,transition_in:E,transition_out:N}=window.__gradio__svelte__internal;function Pn(l){let e,n;return e=new pl({props:{variant:l[13]?"dashed":"solid",test_id:"highlighted-text",visible:l[5],elem_id:l[3],elem_classes:l[4],padding:!1,container:l[9],scale:l[10],min_width:l[11],$$slots:{default:[Qn]},$$scope:{ctx:l}}}),{c(){K(e.$$.fragment)},m(t,s){U(e,t,s),n=!0},p(t,s){const i={};s&8192&&(i.variant=t[13]?"dashed":"solid"),s&32&&(i.visible=t[5]),s&8&&(i.elem_id=t[3]),s&16&&(i.elem_classes=t[4]),s&512&&(i.container=t[9]),s&1024&&(i.scale=t[10]),s&2048&&(i.min_width=t[11]),s&16896839&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Un(l){let e,n;return e=new pl({props:{variant:"solid",test_id:"highlighted-text",visible:l[5],elem_id:l[3],elem_classes:l[4],padding:!1,container:l[9],scale:l[10],min_width:l[11],rtl:l[15],$$slots:{default:[xn]},$$scope:{ctx:l}}}),{c(){K(e.$$.fragment)},m(t,s){U(e,t,s),n=!0},p(t,s){const i={};s&32&&(i.visible=t[5]),s&8&&(i.elem_id=t[3]),s&16&&(i.elem_classes=t[4]),s&512&&(i.container=t[9]),s&1024&&(i.scale=t[10]),s&2048&&(i.min_width=t[11]),s&32768&&(i.rtl=t[15]),s&16896967&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ml(l){let e,n;return e=new vl({props:{Icon:je,label:l[8],float:!1,disable:l[9]===!1,show_label:l[14],rtl:l[15]}}),{c(){K(e.$$.fragment)},m(t,s){U(e,t,s),n=!0},p(t,s){const i={};s&256&&(i.label=t[8]),s&512&&(i.disable=t[9]===!1),s&16384&&(i.show_label=t[14]),s&32768&&(i.rtl=t[15]),e.$set(i)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Xn(l){let e,n;return e=new wl({props:{size:"small",unpadded_box:!0,$$slots:{default:[Jn]},$$scope:{ctx:l}}}),{c(){K(e.$$.fragment)},m(t,s){U(e,t,s),n=!0},p(t,s){const i={};s&16777216&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Gn(l){let e,n,t;function s(o){l[22](o)}let i={selectable:l[12],show_legend:l[6],color_map:l[1]};return l[0]!==void 0&&(i.value=l[0]),e=new Mn({props:i}),An.push(()=>Dn(e,"value",s)),e.$on("change",l[23]),{c(){K(e.$$.fragment)},m(o,a){U(e,o,a),t=!0},p(o,a){const r={};a&4096&&(r.selectable=o[12]),a&64&&(r.show_legend=o[6]),a&2&&(r.color_map=o[1]),!n&&a&1&&(n=!0,r.value=o[0],Rn(()=>n=!1)),e.$set(r)},i(o){t||(E(e.$$.fragment,o),t=!0)},o(o){N(e.$$.fragment,o),t=!1},d(o){P(e,o)}}}function Jn(l){let e,n;return e=new je({}),{c(){K(e.$$.fragment)},m(t,s){U(e,t,s),n=!0},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Qn(l){let e,n,t,s,i,o,a;const r=[{autoscroll:l[2].autoscroll},l[16],{i18n:l[2].i18n}];let c={};for(let _=0;_<r.length;_+=1)c=Vl(c,r[_]);e=new yl({props:c}),e.$on("clear_status",l[21]);let f=l[8]&&l[14]&&ml(l);const h=[Gn,Xn],p=[];function b(_,d){return _[0]?0:1}return s=b(l),i=p[s]=h[s](l),{c(){K(e.$$.fragment),n=ye(),f&&f.c(),t=ye(),i.c(),o=Ie()},m(_,d){U(e,_,d),ne(_,n,d),f&&f.m(_,d),ne(_,t,d),p[s].m(_,d),ne(_,o,d),a=!0},p(_,d){const w=d&65540?Ml(r,[d&4&&{autoscroll:_[2].autoscroll},d&65536&&Hl(_[16]),d&4&&{i18n:_[2].i18n}]):{};e.$set(w),_[8]&&_[14]?f?(f.p(_,d),d&16640&&E(f,1)):(f=ml(_),f.c(),E(f,1),f.m(t.parentNode,t)):f&&(de(),N(f,1,1,()=>{f=null}),ue());let S=s;s=b(_),s===S?p[s].p(_,d):(de(),N(p[S],1,1,()=>{p[S]=null}),ue(),i=p[s],i?i.p(_,d):(i=p[s]=h[s](_),i.c()),E(i,1),i.m(o.parentNode,o))},i(_){a||(E(e.$$.fragment,_),E(f),E(i),a=!0)},o(_){N(e.$$.fragment,_),N(f),N(i),a=!1},d(_){_&&(le(n),le(t),le(o)),P(e,_),f&&f.d(_),p[s].d(_)}}}function bl(l){let e,n;return e=new vl({props:{Icon:je,label:l[8],float:!1,disable:l[9]===!1,show_label:l[14],rtl:l[15]}}),{c(){K(e.$$.fragment)},m(t,s){U(e,t,s),n=!0},p(t,s){const i={};s&256&&(i.label=t[8]),s&512&&(i.disable=t[9]===!1),s&16384&&(i.show_label=t[14]),s&32768&&(i.rtl=t[15]),e.$set(i)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Wn(l){let e,n;return e=new wl({props:{$$slots:{default:[Zn]},$$scope:{ctx:l}}}),{c(){K(e.$$.fragment)},m(t,s){U(e,t,s),n=!0},p(t,s){const i={};s&16777216&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Yn(l){let e,n;return e=new kn({props:{selectable:l[12],value:l[0],show_legend:l[6],show_inline_category:l[7],color_map:l[1]}}),e.$on("select",l[20]),{c(){K(e.$$.fragment)},m(t,s){U(e,t,s),n=!0},p(t,s){const i={};s&4096&&(i.selectable=t[12]),s&1&&(i.value=t[0]),s&64&&(i.show_legend=t[6]),s&128&&(i.show_inline_category=t[7]),s&2&&(i.color_map=t[1]),e.$set(i)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Zn(l){let e,n;return e=new je({}),{c(){K(e.$$.fragment)},m(t,s){U(e,t,s),n=!0},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function xn(l){let e,n,t,s,i,o,a;const r=[{autoscroll:l[2].autoscroll},{i18n:l[2].i18n},l[16]];let c={};for(let _=0;_<r.length;_+=1)c=Vl(c,r[_]);e=new yl({props:c}),e.$on("clear_status",l[19]);let f=l[8]&&l[14]&&bl(l);const h=[Yn,Wn],p=[];function b(_,d){return _[0]?0:1}return s=b(l),i=p[s]=h[s](l),{c(){K(e.$$.fragment),n=ye(),f&&f.c(),t=ye(),i.c(),o=Ie()},m(_,d){U(e,_,d),ne(_,n,d),f&&f.m(_,d),ne(_,t,d),p[s].m(_,d),ne(_,o,d),a=!0},p(_,d){const w=d&65540?Ml(r,[d&4&&{autoscroll:_[2].autoscroll},d&4&&{i18n:_[2].i18n},d&65536&&Hl(_[16])]):{};e.$set(w),_[8]&&_[14]?f?(f.p(_,d),d&16640&&E(f,1)):(f=bl(_),f.c(),E(f,1),f.m(t.parentNode,t)):f&&(de(),N(f,1,1,()=>{f=null}),ue());let S=s;s=b(_),s===S?p[s].p(_,d):(de(),N(p[S],1,1,()=>{p[S]=null}),ue(),i=p[s],i?i.p(_,d):(i=p[s]=h[s](_),i.c()),E(i,1),i.m(o.parentNode,o))},i(_){a||(E(e.$$.fragment,_),E(f),E(i),a=!0)},o(_){N(e.$$.fragment,_),N(f),N(i),a=!1},d(_){_&&(le(n),le(t),le(o)),P(e,_),f&&f.d(_),p[s].d(_)}}}function et(l){let e,n,t,s;const i=[Un,Pn],o=[];function a(r,c){return r[13]?1:0}return e=a(l),n=o[e]=i[e](l),{c(){n.c(),t=Ie()},m(r,c){o[e].m(r,c),ne(r,t,c),s=!0},p(r,[c]){let f=e;e=a(r),e===f?o[e].p(r,c):(de(),N(o[f],1,1,()=>{o[f]=null}),ue(),n=o[e],n?n.p(r,c):(n=o[e]=i[e](r),n.c()),E(n,1),n.m(t.parentNode,t))},i(r){s||(E(n),s=!0)},o(r){N(n),s=!1},d(r){r&&le(t),o[e].d(r)}}}function lt(l,e,n){let{gradio:t}=e,{elem_id:s=""}=e,{elem_classes:i=[]}=e,{visible:o=!0}=e,{value:a}=e,r,{show_legend:c}=e,{show_inline_category:f}=e,{color_map:h={}}=e,{label:p=t.i18n("highlighted_text.highlighted_text")}=e,{container:b=!0}=e,{scale:_=null}=e,{min_width:d=void 0}=e,{_selectable:w=!1}=e,{combine_adjacent:S=!1}=e,{interactive:y}=e,{show_label:g=!0}=e,{rtl:j=!1}=e,{loading_status:m}=e;const z=()=>t.dispatch("clear_status",m),B=({detail:k})=>t.dispatch("select",k),Ne=()=>t.dispatch("clear_status",m);function Te(k){a=k,n(0,a),n(17,S)}const Oe=()=>t.dispatch("change");return l.$$set=k=>{"gradio"in k&&n(2,t=k.gradio),"elem_id"in k&&n(3,s=k.elem_id),"elem_classes"in k&&n(4,i=k.elem_classes),"visible"in k&&n(5,o=k.visible),"value"in k&&n(0,a=k.value),"show_legend"in k&&n(6,c=k.show_legend),"show_inline_category"in k&&n(7,f=k.show_inline_category),"color_map"in k&&n(1,h=k.color_map),"label"in k&&n(8,p=k.label),"container"in k&&n(9,b=k.container),"scale"in k&&n(10,_=k.scale),"min_width"in k&&n(11,d=k.min_width),"_selectable"in k&&n(12,w=k._selectable),"combine_adjacent"in k&&n(17,S=k.combine_adjacent),"interactive"in k&&n(13,y=k.interactive),"show_label"in k&&n(14,g=k.show_label),"rtl"in k&&n(15,j=k.rtl),"loading_status"in k&&n(16,m=k.loading_status)},l.$$.update=()=>{l.$$.dirty&2&&!h&&Object.keys(h).length&&n(1,h),l.$$.dirty&131073&&a&&S&&n(0,a=Sl(a)),l.$$.dirty&262149&&a!==r&&(n(18,r=a),t.dispatch("change"))},[a,h,t,s,i,o,c,f,p,b,_,d,w,y,g,j,m,S,r,z,B,Ne,Te,Oe]}class ct extends qn{constructor(e){super(),Fn(this,e,lt,et,Kn,{gradio:2,elem_id:3,elem_classes:4,visible:5,value:0,show_legend:6,show_inline_category:7,color_map:1,label:8,container:9,scale:10,min_width:11,_selectable:12,combine_adjacent:17,interactive:13,show_label:14,rtl:15,loading_status:16})}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),I()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),I()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),I()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),I()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),I()}get show_legend(){return this.$$.ctx[6]}set show_legend(e){this.$$set({show_legend:e}),I()}get show_inline_category(){return this.$$.ctx[7]}set show_inline_category(e){this.$$set({show_inline_category:e}),I()}get color_map(){return this.$$.ctx[1]}set color_map(e){this.$$set({color_map:e}),I()}get label(){return this.$$.ctx[8]}set label(e){this.$$set({label:e}),I()}get container(){return this.$$.ctx[9]}set container(e){this.$$set({container:e}),I()}get scale(){return this.$$.ctx[10]}set scale(e){this.$$set({scale:e}),I()}get min_width(){return this.$$.ctx[11]}set min_width(e){this.$$set({min_width:e}),I()}get _selectable(){return this.$$.ctx[12]}set _selectable(e){this.$$set({_selectable:e}),I()}get combine_adjacent(){return this.$$.ctx[17]}set combine_adjacent(e){this.$$set({combine_adjacent:e}),I()}get interactive(){return this.$$.ctx[13]}set interactive(e){this.$$set({interactive:e}),I()}get show_label(){return this.$$.ctx[14]}set show_label(e){this.$$set({show_label:e}),I()}get rtl(){return this.$$.ctx[15]}set rtl(e){this.$$set({rtl:e}),I()}get loading_status(){return this.$$.ctx[16]}set loading_status(e){this.$$set({loading_status:e}),I()}}export{Mn as BaseInteractiveHighlightedText,kn as BaseStaticHighlightedText,ct as default};
//# sourceMappingURL=Index-DkKQRf1C.js.map
