import{SvelteComponent as Fe,init as Ne,safe_not_equal as Le,element as g,space as I,text as q,claim_element as w,children as E,detach as m,claim_space as H,get_svelte_dataset as ee,claim_text as A,attr as p,toggle_class as W,set_style as he,insert_hydration as F,append_hydration as _,set_input_value as _e,listen as O,group_outros as Te,transition_out as Y,check_outros as Ve,transition_in as G,run_all as De,onMount as Pe,tick as ae,set_data as ue,binding_callbacks as de,bind as ze,create_component as Me,claim_component as Be,mount_component as Se,add_flush_callback as Re,destroy_component as Ue,ensure_array_like as ce,destroy_each as Ie}from"../../../svelte/svelte.js";import"../../../svelte/svelte-submodules.js";import"./2.CDVdg6R9.js";import{C as Oe}from"./Code.ChQFfsFQ.js";/* empty css                                              */import{M as We}from"./Index.svelte_svelte_type_style_lang.Dzv4K5Xg.js";/* empty css                                              */function me(i,e,t){const s=i.slice();return s[35]=e[t],s}function pe(i,e,t){const s=i.slice();return s[38]=e[t],s[40]=t,s}function be(i){let e,t,s=i[7].lines_added>0&&ve(i),n=i[7].lines_removed>0&&ke(i);return{c(){e=g("span"),s&&s.c(),t=I(),n&&n.c(),this.h()},l(o){e=w(o,"SPAN",{class:!0});var l=E(e);s&&s.l(l),t=H(l),n&&n.l(l),l.forEach(m),this.h()},h(){p(e,"class","diff-stats svelte-mfkb21")},m(o,l){F(o,e,l),s&&s.m(e,null),_(e,t),n&&n.m(e,null)},p(o,l){o[7].lines_added>0?s?s.p(o,l):(s=ve(o),s.c(),s.m(e,t)):s&&(s.d(1),s=null),o[7].lines_removed>0?n?n.p(o,l):(n=ke(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(o){o&&m(e),s&&s.d(),n&&n.d()}}}function ve(i){let e,t,s=i[7].lines_added+"",n;return{c(){e=g("span"),t=q("+"),n=q(s),this.h()},l(o){e=w(o,"SPAN",{class:!0});var l=E(e);t=A(l,"+"),n=A(l,s),l.forEach(m),this.h()},h(){p(e,"class","added svelte-mfkb21")},m(o,l){F(o,e,l),_(e,t),_(e,n)},p(o,l){l[0]&128&&s!==(s=o[7].lines_added+"")&&ue(n,s)},d(o){o&&m(e)}}}function ke(i){let e,t,s=i[7].lines_removed+"",n;return{c(){e=g("span"),t=q("-"),n=q(s),this.h()},l(o){e=w(o,"SPAN",{class:!0});var l=E(e);t=A(l,"-"),n=A(l,s),l.forEach(m),this.h()},h(){p(e,"class","removed svelte-mfkb21")},m(o,l){F(o,e,l),_(e,t),_(e,n)},p(o,l){l[0]&128&&s!==(s=o[7].lines_removed+"")&&ue(n,s)},d(o){o&&m(e)}}}function qe(i){let e,t,s,n,o,l,c,r,u=`<span class="button-content svelte-mfkb21">Deploy to
						<svg class="spaces-logo svelte-mfkb21" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" preserveAspectRatio="xMidYMid meet" viewBox="0 0 39 40"><path d="M6.3712 2.04427C3.7183 2.04427 1.56771 4.19486 1.56771 6.84776V18.3546V18.6544V32.7341C1.56771 35.3868 3.71818 37.5377 6.3712 37.5377H17.878H20.7507H32.2575C34.9104 37.5377 37.0612 35.387 37.0612 32.7341V21.6204C37.0612 20.177 36.4252 18.8839 35.4189 18.004C36.4576 16.3895 37.0612 14.4666 37.0612 12.4046C37.0612 6.68274 32.4225 2.04427 26.7007 2.04427C24.6388 2.04427 22.7159 2.64776 21.1014 3.68647C20.2214 2.6802 18.9282 2.04427 17.4849 2.04427H6.3712Z" fill="black" class="stroke-white dark:stroke-white/10" stroke-width="3.07552"></path><path d="M9.56855 23.5001C8.8406 23.5001 8.25047 24.0902 8.25047 24.8182V29.5361C8.25047 30.2641 8.8406 30.8542 9.56855 30.8542H14.2864C15.0144 30.8542 15.6045 30.2641 15.6045 29.5361V24.8182C15.6045 24.0902 15.0143 23.5001 14.2864 23.5001H9.56855Z" fill="#FF3270"></path><path d="M24.3409 23.5001C23.613 23.5001 23.0228 24.0902 23.0228 24.8182V29.5361C23.0228 30.2641 23.613 30.8542 24.3409 30.8542H29.0588C29.7868 30.8542 30.3769 30.2641 30.3769 29.5361V24.8182C30.3769 24.0902 29.7868 23.5001 29.0588 23.5001H24.3409Z" fill="#861FFF"></path><path d="M9.56855 8.72815C8.8406 8.72815 8.25047 9.31827 8.25047 10.0462V14.7641C8.25047 15.4921 8.8406 16.0822 9.56855 16.0822H14.2864C15.0144 16.0822 15.6045 15.4921 15.6045 14.7641V10.0462C15.6045 9.31827 15.0143 8.72815 14.2864 8.72815H9.56855Z" fill="#097EFF"></path><path d="M26.6999 8.72815C24.6692 8.72815 23.0228 10.3744 23.0228 12.4052C23.0228 14.4359 24.6692 16.0822 26.6999 16.0822C28.7306 16.0822 30.3769 14.4359 30.3769 12.4052C30.3769 10.3744 28.7306 8.72815 26.6999 8.72815Z" fill="#FFD702"></path></svg> <span style="font-weight: 600;">Spaces</span></span>`,d,h,a;function b(C){i[23](C)}let L={language:"python",lines:10,dark_mode:!1,basic:!0,readonly:!1,placeholder:"Enter your code here...",wrap_lines:!0};i[6]!==void 0&&(L.value=i[6]),s=new Oe({props:L}),de.push(()=>ze(s,"value",b));function M(C,k){return C[2]?Qe:Ze}let S=M(i),D=S(i);return{c(){e=g("div"),t=g("div"),Me(s.$$.fragment),o=I(),l=g("button"),D.c(),c=I(),r=g("button"),r.innerHTML=u,this.h()},l(C){e=w(C,"DIV",{class:!0});var k=E(e);t=w(k,"DIV",{class:!0});var P=E(t);Be(s.$$.fragment,P),P.forEach(m),o=H(k),l=w(k,"BUTTON",{class:!0});var B=E(l);D.l(B),B.forEach(m),c=H(k),r=w(k,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(r)!=="svelte-eba1t1"&&(r.innerHTML=u),k.forEach(m),this.h()},h(){p(t,"class","code-editor-container svelte-mfkb21"),p(l,"class","update-code-button svelte-mfkb21"),W(l,"updating",i[2]),p(r,"class","deploy-to-spaces-button svelte-mfkb21"),p(e,"class","code-content svelte-mfkb21")},m(C,k){F(C,e,k),_(e,t),Se(s,t,null),_(e,o),_(e,l),D.m(l,null),_(e,c),_(e,r),d=!0,h||(a=[O(l,"click",i[14]),O(r,"click",i[24])],h=!0)},p(C,k){const P={};!n&&k[0]&64&&(n=!0,P.value=C[6],Re(()=>n=!1)),s.$set(P),S!==(S=M(C))&&(D.d(1),D=S(C),D&&(D.c(),D.m(l,null))),(!d||k[0]&4)&&W(l,"updating",C[2])},i(C){d||(G(s.$$.fragment,C),d=!0)},o(C){Y(s.$$.fragment,C),d=!1},d(C){C&&m(e),Ue(s),D.d(),h=!1,De(a)}}}function Ae(i){let e,t,s,n,o=ce(i[8]),l=[];for(let d=0;d<o.length;d+=1)l[d]=we(pe(i,o,d));const c=d=>Y(l[d],1,1,()=>{l[d]=null});let r=i[8].length===0&&Ce(),u=i[8].length===0&&ye(i);return{c(){e=g("div");for(let d=0;d<l.length;d+=1)l[d].c();t=I(),r&&r.c(),s=I(),u&&u.c(),this.h()},l(d){e=w(d,"DIV",{class:!0});var h=E(e);for(let a=0;a<l.length;a+=1)l[a].l(h);t=H(h),r&&r.l(h),s=H(h),u&&u.l(h),h.forEach(m),this.h()},h(){p(e,"class","message-history svelte-mfkb21")},m(d,h){F(d,e,h);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);_(e,t),r&&r.m(e,null),_(e,s),u&&u.m(e,null),i[22](e),n=!0},p(d,h){if(h[0]&4352){o=ce(d[8]);let a;for(a=0;a<o.length;a+=1){const b=pe(d,o,a);l[a]?(l[a].p(b,h),G(l[a],1)):(l[a]=we(b),l[a].c(),G(l[a],1),l[a].m(e,t))}for(Te(),a=o.length;a<l.length;a+=1)c(a);Ve()}d[8].length===0?r||(r=Ce(),r.c(),r.m(e,s)):r&&(r.d(1),r=null),d[8].length===0?u?u.p(d,h):(u=ye(d),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(d){if(!n){for(let h=0;h<o.length;h+=1)G(l[h]);n=!0}},o(d){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)Y(l[h]);n=!1},d(d){d&&m(e),Ie(l,d),r&&r.d(),u&&u.d(),i[22](null)}}}function Ze(i){let e;return{c(){e=q("Update Code")},l(t){e=A(t,"Update Code")},m(t,s){F(t,e,s)},d(t){t&&m(e)}}}function Qe(i){let e;return{c(){e=q("Updated!")},l(t){e=A(t,"Updated!")},m(t,s){F(t,e,s)},d(t){t&&m(e)}}}function ge(i){let e,t="Undo",s,n;function o(){return i[20](i[38],i[40])}return{c(){e=g("button"),e.textContent=t,this.h()},l(l){e=w(l,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1hv8emy"&&(e.textContent=t),this.h()},h(){p(e,"class","undo-button svelte-mfkb21"),p(e,"title","Undo this change")},m(l,c){F(l,e,c),s||(n=O(e,"click",o),s=!0)},p(l,c){i=l},d(l){l&&m(e),s=!1,n()}}}function we(i){let e,t,s,n,o,l;n=new We({props:{value:i[38].text,latex_delimiters:[],theme_mode:"system"}});let c=!i[38].isBot&&i[38].hash&&!i[38].isPending&&ge(i);return{c(){e=g("div"),t=g("div"),s=g("span"),Me(n.$$.fragment),o=I(),c&&c.c(),this.h()},l(r){e=w(r,"DIV",{class:!0});var u=E(e);t=w(u,"DIV",{class:!0});var d=E(t);s=w(d,"SPAN",{class:!0});var h=E(s);Be(n.$$.fragment,h),h.forEach(m),o=H(d),c&&c.l(d),d.forEach(m),u.forEach(m),this.h()},h(){p(s,"class","message-text svelte-mfkb21"),p(t,"class","message-content svelte-mfkb21"),p(e,"class","message-item svelte-mfkb21"),W(e,"bot-message",i[38].isBot),W(e,"user-message",!i[38].isBot)},m(r,u){F(r,e,u),_(e,t),_(t,s),Se(n,s,null),_(t,o),c&&c.m(t,null),l=!0},p(r,u){const d={};u[0]&256&&(d.value=r[38].text),n.$set(d),!r[38].isBot&&r[38].hash&&!r[38].isPending?c?c.p(r,u):(c=ge(r),c.c(),c.m(t,null)):c&&(c.d(1),c=null),(!l||u[0]&256)&&W(e,"bot-message",r[38].isBot),(!l||u[0]&256)&&W(e,"user-message",!r[38].isBot)},i(r){l||(G(n.$$.fragment,r),l=!0)},o(r){Y(n.$$.fragment,r),l=!1},d(r){r&&m(e),Ue(n),c&&c.d()}}}function Ce(i){let e,t="No messages yet";return{c(){e=g("div"),e.textContent=t,this.h()},l(s){e=w(s,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1lmz9va"&&(e.textContent=t),this.h()},h(){p(e,"class","no-messages svelte-mfkb21")},m(s,n){F(s,e,n)},d(s){s&&m(e)}}}function ye(i){let e,t,s=ce(i[1]),n=[];for(let o=0;o<s.length;o+=1)n[o]=Ee(me(i,s,o));return{c(){e=g("div"),t=g("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=w(o,"DIV",{class:!0});var l=E(e);t=w(l,"DIV",{class:!0});var c=E(t);for(let r=0;r<n.length;r+=1)n[r].l(c);c.forEach(m),l.forEach(m),this.h()},h(){p(t,"class","starter-queries svelte-mfkb21"),p(e,"class","starter-queries-container svelte-mfkb21")},m(o,l){F(o,e,l),_(e,t);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null)},p(o,l){if(l[0]&2050){s=ce(o[1]);let c;for(c=0;c<s.length;c+=1){const r=me(o,s,c);n[c]?n[c].p(r,l):(n[c]=Ee(r),n[c].c(),n[c].m(t,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=s.length}},d(o){o&&m(e),Ie(n,o)}}}function Ee(i){let e,t=i[35]+"",s,n,o,l;function c(){return i[21](i[35])}return{c(){e=g("button"),s=q(t),n=I(),this.h()},l(r){e=w(r,"BUTTON",{class:!0});var u=E(e);s=A(u,t),n=H(u),u.forEach(m),this.h()},h(){p(e,"class","starter-query-button svelte-mfkb21")},m(r,u){F(r,e,u),_(e,s),_(e,n),o||(l=O(e,"click",c),o=!0)},p(r,u){i=r,u[0]&2&&t!==(t=i[35]+"")&&ue(s,t)},d(r){r&&m(e),o=!1,l()}}}function je(i){let e,t,s,n,o,l="Chat",c,r,u,d,h,a,b,L,M,S,D="Powered by: <code>gpt-oss</code>",C,k,P,B,j,K,N,J,$,V=i[7]&&(i[7].lines_added>0||i[7].lines_removed>0)&&be(i);const te=[Ae,qe],z=[];function se(v,y){return v[0]==="chat"?0:v[0]==="code"?1:-1}return~(a=se(i))&&(b=z[a]=te[a](i)),{c(){e=g("div"),t=g("button"),s=I(),n=g("div"),o=g("button"),o.textContent=l,c=I(),r=g("button"),u=q(`Code
			`),V&&V.c(),d=I(),h=g("div"),b&&b.c(),L=I(),M=g("div"),S=g("div"),S.innerHTML=D,C=I(),k=g("textarea"),P=I(),B=g("button"),j=q("Send"),this.h()},l(v){e=w(v,"DIV",{class:!0,style:!0});var y=E(e);t=w(y,"BUTTON",{class:!0,"aria-label":!0}),E(t).forEach(m),s=H(y),n=w(y,"DIV",{class:!0});var R=E(n);o=w(R,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(o)!=="svelte-1jfn66n"&&(o.textContent=l),c=H(R),r=w(R,"BUTTON",{class:!0});var x=E(r);u=A(x,`Code
			`),V&&V.l(x),x.forEach(m),R.forEach(m),d=H(y),h=w(y,"DIV",{class:!0});var le=E(h);b&&b.l(le),le.forEach(m),L=H(y),M=w(y,"DIV",{class:!0});var Z=E(M);S=w(Z,"DIV",{class:!0,"data-svelte-h":!0}),ee(S)!=="svelte-4qz8uo"&&(S.innerHTML=D),C=H(Z),k=w(Z,"TEXTAREA",{placeholder:!0,class:!0}),E(k).forEach(m),P=H(Z),B=w(Z,"BUTTON",{class:!0});var ne=E(B);j=A(ne,"Send"),ne.forEach(m),Z.forEach(m),y.forEach(m),this.h()},h(){p(t,"class","resize-handle svelte-mfkb21"),p(t,"aria-label","Resize sidebar"),p(o,"class","tab-button svelte-mfkb21"),W(o,"active",i[0]==="chat"),p(r,"class","tab-button svelte-mfkb21"),W(r,"active",i[0]==="code"),p(n,"class","tab-header svelte-mfkb21"),p(h,"class","tab-content svelte-mfkb21"),p(S,"class","powered-by svelte-mfkb21"),p(k,"placeholder","What can I add or change?"),p(k,"class","prompt-input svelte-mfkb21"),p(B,"class","submit-button svelte-mfkb21"),B.disabled=K=i[3].trim()==="",p(M,"class","input-section svelte-mfkb21"),p(e,"class","vibe-editor svelte-mfkb21"),he(e,"width",i[4]+"px")},m(v,y){F(v,e,y),_(e,t),_(e,s),_(e,n),_(n,o),_(n,c),_(n,r),_(r,u),V&&V.m(r,null),_(e,d),_(e,h),~a&&z[a].m(h,null),_(e,L),_(e,M),_(M,S),_(M,C),_(M,k),_e(k,i[3]),_(M,P),_(M,B),_(B,j),i[28](e),N=!0,J||($=[O(t,"mousedown",i[13]),O(o,"click",i[18]),O(r,"click",i[19]),O(k,"keydown",i[25]),O(k,"input",i[26]),O(B,"click",i[27])],J=!0)},p(v,y){(!N||y[0]&1)&&W(o,"active",v[0]==="chat"),v[7]&&(v[7].lines_added>0||v[7].lines_removed>0)?V?V.p(v,y):(V=be(v),V.c(),V.m(r,null)):V&&(V.d(1),V=null),(!N||y[0]&1)&&W(r,"active",v[0]==="code");let R=a;a=se(v),a===R?~a&&z[a].p(v,y):(b&&(Te(),Y(z[R],1,1,()=>{z[R]=null}),Ve()),~a?(b=z[a],b?b.p(v,y):(b=z[a]=te[a](v),b.c()),G(b,1),b.m(h,null)):b=null),y[0]&8&&_e(k,v[3]),(!N||y[0]&8&&K!==(K=v[3].trim()===""))&&(B.disabled=K),(!N||y[0]&16)&&he(e,"width",v[4]+"px")},i(v){N||(G(b),N=!0)},o(v){Y(b),N=!1},d(v){v&&m(e),V&&V.d(),~a&&z[a].d(),i[28](null),J=!1,De($)}}}function Xe(i,e,t){let{app:s}=e,{root:n}=e,o="",l=350,c=!1,r,u="chat",d="",h=null,a=[],b;const L=(f="smooth")=>{b&&b.scrollTo({top:b.scrollHeight,behavior:f})};let M=[];(async()=>{s.post_data(`${n}/gradio_api/vibe-starter-queries/`,{}).then(async([T,U])=>{if(U!==200)throw new Error(`Error: ${U}`);t(1,M=T.starter_queries)}).catch(async T=>{console.error("Failed to fetch starter queries:",T)})})();const D=async f=>{const T=f||o;if(T.trim()==="")return;t(7,h=null);const U=a.length;t(8,a=[...a,{text:T,isBot:!1}]);const Q=a.length;t(8,a=[...a,{text:"Working...",isBot:!0,isPending:!0}]),await ae(),L();const He=T;f||t(3,o=""),s.post_data(`${n}/gradio_api/vibe-edit/`,{prompt:He}).then(async([fe,oe])=>{if(oe!==200)throw new Error(`Error: ${oe}`);const X=fe;t(7,h=X.diff_stats),t(8,a=a.map((ie,re)=>(console.log(re,U,X.hash),re===U?{...ie,hash:X.hash}:ie))),t(8,a=a.map((ie,re)=>re===Q?{text:X.reasoning?X.reasoning:"Done.",isBot:!0,isPending:!1}:ie)),await ae(),L()}).catch(async fe=>{t(8,a=a.map((oe,X)=>X===Q?{text:"Error occurred.",isBot:!0,isPending:!1}:oe)),await ae(),L()})},C=async f=>{await D(f)},k=async(f,T)=>{try{await s.post_data(`${n}/gradio_api/undo-vibe-edit/`,{hash:f}),t(7,h=null);const U=a[T];t(3,o=U.text),t(8,a=a.slice(0,T))}catch(U){console.error("Failed to undo:",U)}},P=f=>{f.preventDefault(),c=!0,document.addEventListener("mousemove",B),document.addEventListener("mouseup",j),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},B=f=>{if(!c)return;const T=250,U=Math.min(800,window.innerWidth*.5),Q=window.innerWidth-f.clientX;t(4,l=Math.max(T,Math.min(U,Q))),window.dispatchEvent(new CustomEvent("vibeEditorResize",{detail:{width:l}}))},j=()=>{c=!1,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",j),document.body.style.cursor="",document.body.style.userSelect=""},K=async()=>{try{const f=await fetch(`${n}/gradio_api/vibe-code/`,{method:"GET",headers:{"Content-Type":"application/json"}});if(f.ok){const T=await f.json();t(6,d=T.code)}}catch(f){console.error("Failed to fetch code:",f)}};let N=!1;const J=async()=>{try{await s.post_data(`${n}/gradio_api/vibe-code/`,{code:d}),t(2,N=!0),setTimeout(()=>{t(2,N=!1)},1e3)}catch(f){console.error("Failed to update code:",f)}};function $(){var Q;const f="https://huggingface.co/new-space",T=new URLSearchParams({name:"new-space",sdk:"gradio"}),U=d.trimStart();T.append("files[0][path]","app.py"),T.append("files[0][content]",U),(Q=window.open(`${f}?${T.toString()}`,"_blank"))==null||Q.focus()}Pe(()=>()=>{document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",j)});const V=()=>t(0,u="chat"),te=()=>t(0,u="code"),z=(f,T)=>k(f.hash||"",T),se=f=>C(f);function v(f){de[f?"unshift":"push"](()=>{b=f,t(9,b)})}function y(f){d=f,t(6,d)}const R=()=>$(),x=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),D())};function le(){o=this.value,t(3,o)}const Z=()=>D();function ne(f){de[f?"unshift":"push"](()=>{r=f,t(5,r)})}return i.$$set=f=>{"app"in f&&t(16,s=f.app),"root"in f&&t(17,n=f.root)},i.$$.update=()=>{i.$$.dirty[0]&65536&&K(),i.$$.dirty[0]&1&&u==="chat"&&ae().then(()=>L("auto")),i.$$.dirty[0]&4,i.$$.dirty[0]&2},[u,M,N,o,l,r,d,h,a,b,D,C,k,P,J,$,s,n,V,te,z,se,v,y,R,x,le,Z,ne]}class st extends Fe{constructor(e){super(),Ne(this,e,Xe,je,Le,{app:16,root:17},null,[-1,-1])}}export{st as default};
//# sourceMappingURL=Index.uJNDAmZw.js.map
